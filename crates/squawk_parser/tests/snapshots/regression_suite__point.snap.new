---
source: crates/squawk_parser/tests/regression_suite.rs
assertion_line: 87
input_file: crates/squawk_parser/tests/data/regression_suite/point.sql
---
SOURCE_FILE
  COMMENT "--"
  WHITESPACE "\n"
  COMMENT "-- POINT"
  WHITESPACE "\n"
  COMMENT "--"
  WHITESPACE "\n\n"
  COMMENT "-- avoid bit-exact output here because operations may not be bit-exact."
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "extra_float_digits"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "0"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- point_tbl was already created and filled in test_setup.sql."
  WHITESPACE "\n"
  COMMENT "-- Here we just try to insert bad values."
  WHITESPACE "\n\n"
  INSERT_STMT
    INSERT_KW "INSERT"
    WHITESPACE " "
    INTO_KW "INTO"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "POINT_TBL"
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "f1"
      R_PAREN ")"
    WHITESPACE " "
    SELECT
      VALUES_KW "VALUES"
      WHITESPACE " "
      L_PAREN "("
      LITERAL
        STRING "'asdfasdf'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  INSERT_STMT
    INSERT_KW "INSERT"
    WHITESPACE " "
    INTO_KW "INTO"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "POINT_TBL"
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "f1"
      R_PAREN ")"
    WHITESPACE " "
    SELECT
      VALUES_KW "VALUES"
      WHITESPACE " "
      L_PAREN "("
      LITERAL
        STRING "'(10.0 10.0)'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  INSERT_STMT
    INSERT_KW "INSERT"
    WHITESPACE " "
    INTO_KW "INTO"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "POINT_TBL"
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "f1"
      R_PAREN ")"
    WHITESPACE " "
    SELECT
      VALUES_KW "VALUES"
      WHITESPACE " "
      L_PAREN "("
      LITERAL
        STRING "'(10.0, 10.0) x'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  INSERT_STMT
    INSERT_KW "INSERT"
    WHITESPACE " "
    INTO_KW "INTO"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "POINT_TBL"
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "f1"
      R_PAREN ")"
    WHITESPACE " "
    SELECT
      VALUES_KW "VALUES"
      WHITESPACE " "
      L_PAREN "("
      LITERAL
        STRING "'(10.0,10.0'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  INSERT_STMT
    INSERT_KW "INSERT"
    WHITESPACE " "
    INTO_KW "INTO"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "POINT_TBL"
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "f1"
      R_PAREN ")"
    WHITESPACE " "
    SELECT
      VALUES_KW "VALUES"
      WHITESPACE " "
      L_PAREN "("
      LITERAL
        STRING "'(10.0, 1e+500)'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\t"
  COMMENT "-- Out of range"
  WHITESPACE "\n\n\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          STAR "*"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- left of"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          FIELD_EXPR
            NAME_REF
              IDENT "p"
            DOT "."
            STAR "*"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p"
    WHITESPACE " "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        FIELD_EXPR
          NAME_REF
            IDENT "p"
          DOT "."
          NAME_REF
            IDENT "f1"
        WHITESPACE " "
        CUSTOM_OP
          L_ANGLE "<"
          L_ANGLE "<"
        WHITESPACE " "
        LITERAL
          STRING "'(0.0, 0.0)'"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- right of"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          FIELD_EXPR
            NAME_REF
              IDENT "p"
            DOT "."
            STAR "*"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p"
    WHITESPACE " "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        LITERAL
          STRING "'(0.0,0.0)'"
        WHITESPACE " "
        CUSTOM_OP
          R_ANGLE ">"
          R_ANGLE ">"
        WHITESPACE " "
        FIELD_EXPR
          NAME_REF
            IDENT "p"
          DOT "."
          NAME_REF
            IDENT "f1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- above"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          FIELD_EXPR
            NAME_REF
              IDENT "p"
            DOT "."
            STAR "*"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p"
    WHITESPACE " "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        LITERAL
          STRING "'(0.0,0.0)'"
        WHITESPACE " "
        CUSTOM_OP
          PIPE "|"
          R_ANGLE ">"
          R_ANGLE ">"
        WHITESPACE " "
        FIELD_EXPR
          NAME_REF
            IDENT "p"
          DOT "."
          NAME_REF
            IDENT "f1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- below"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          FIELD_EXPR
            NAME_REF
              IDENT "p"
            DOT "."
            STAR "*"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p"
    WHITESPACE " "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        FIELD_EXPR
          NAME_REF
            IDENT "p"
          DOT "."
          NAME_REF
            IDENT "f1"
        WHITESPACE " "
        CUSTOM_OP
          L_ANGLE "<"
          L_ANGLE "<"
          PIPE "|"
        WHITESPACE " "
        LITERAL
          STRING "'(0.0, 0.0)'"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- equal"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          FIELD_EXPR
            NAME_REF
              IDENT "p"
            DOT "."
            STAR "*"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p"
    WHITESPACE " "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        FIELD_EXPR
          NAME_REF
            IDENT "p"
          DOT "."
          NAME_REF
            IDENT "f1"
        WHITESPACE " "
        CUSTOM_OP
          TILDE "~"
          EQ "="
        WHITESPACE " "
        LITERAL
          STRING "'(5.1, 34.5)'"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- point in box"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          FIELD_EXPR
            NAME_REF
              IDENT "p"
            DOT "."
            STAR "*"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p"
    WHITESPACE "\n   "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        FIELD_EXPR
          NAME_REF
            IDENT "p"
          DOT "."
          NAME_REF
            IDENT "f1"
        WHITESPACE " "
        CUSTOM_OP
          L_ANGLE "<"
          AT "@"
        WHITESPACE " "
        CAST_EXPR
          NAME_REF
            IDENT "box"
          WHITESPACE " "
          LITERAL
            STRING "'(0,0,100,100)'"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          FIELD_EXPR
            NAME_REF
              IDENT "p"
            DOT "."
            STAR "*"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p"
    WHITESPACE "\n   "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        CAST_EXPR
          NAME_REF
            IDENT "box"
          WHITESPACE " "
          LITERAL
            STRING "'(0,0,100,100)'"
        WHITESPACE " "
        CUSTOM_OP
          AT "@"
          R_ANGLE ">"
        WHITESPACE " "
        FIELD_EXPR
          NAME_REF
            IDENT "p"
          DOT "."
          NAME_REF
            IDENT "f1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          FIELD_EXPR
            NAME_REF
              IDENT "p"
            DOT "."
            STAR "*"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p"
    WHITESPACE "\n   "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      PREFIX_EXPR
        NOT_KW "not"
        WHITESPACE " "
        BIN_EXPR
          FIELD_EXPR
            NAME_REF
              IDENT "p"
            DOT "."
            NAME_REF
              IDENT "f1"
          WHITESPACE " "
          CUSTOM_OP
            L_ANGLE "<"
            AT "@"
          WHITESPACE " "
          CAST_EXPR
            NAME_REF
              IDENT "box"
            WHITESPACE " "
            LITERAL
              STRING "'(0,0,100,100)'"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          FIELD_EXPR
            NAME_REF
              IDENT "p"
            DOT "."
            STAR "*"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p"
    WHITESPACE "\n   "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        FIELD_EXPR
          NAME_REF
            IDENT "p"
          DOT "."
          NAME_REF
            IDENT "f1"
        WHITESPACE " "
        CUSTOM_OP
          L_ANGLE "<"
          AT "@"
        WHITESPACE " "
        CAST_EXPR
          NAME_REF
            PATH_KW "path"
          WHITESPACE " "
          LITERAL
            STRING "'[(0,0),(-10,0),(-10,10)]'"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          FIELD_EXPR
            NAME_REF
              IDENT "p"
            DOT "."
            STAR "*"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p"
    WHITESPACE "\n   "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      PREFIX_EXPR
        NOT_KW "not"
        WHITESPACE " "
        BIN_EXPR
          CAST_EXPR
            NAME_REF
              IDENT "box"
            WHITESPACE " "
            LITERAL
              STRING "'(0,0,100,100)'"
          WHITESPACE " "
          CUSTOM_OP
            AT "@"
            R_ANGLE ">"
          WHITESPACE " "
          FIELD_EXPR
            NAME_REF
              IDENT "p"
            DOT "."
            NAME_REF
              IDENT "f1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          FIELD_EXPR
            NAME_REF
              IDENT "p"
            DOT "."
            NAME_REF
              IDENT "f1"
        COMMA ","
        WHITESPACE " "
        TARGET
          BIN_EXPR
            FIELD_EXPR
              NAME_REF
                IDENT "p"
              DOT "."
              NAME_REF
                IDENT "f1"
            WHITESPACE " "
            CUSTOM_OP
              L_ANGLE "<"
              MINUS "-"
              R_ANGLE ">"
            WHITESPACE " "
            CAST_EXPR
              NAME_REF
                IDENT "point"
              WHITESPACE " "
              LITERAL
                STRING "'(0,0)'"
          WHITESPACE " "
          AS_KW "AS"
          WHITESPACE " "
          NAME
            IDENT "dist"
    WHITESPACE "\n   "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p"
    WHITESPACE "\n   "
    ORDER_BY_CLAUSE
      ORDER_KW "ORDER"
      WHITESPACE " "
      BY_KW "BY"
      WHITESPACE " "
      NAME_REF
        IDENT "dist"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          FIELD_EXPR
            NAME_REF
              IDENT "p1"
            DOT "."
            NAME_REF
              IDENT "f1"
          WHITESPACE " "
          AS_KW "AS"
          WHITESPACE " "
          NAME
            IDENT "point1"
        COMMA ","
        WHITESPACE " "
        TARGET
          FIELD_EXPR
            NAME_REF
              IDENT "p2"
            DOT "."
            NAME_REF
              IDENT "f1"
          WHITESPACE " "
          AS_KW "AS"
          WHITESPACE " "
          NAME
            IDENT "point2"
        COMMA ","
        WHITESPACE " "
        TARGET
          BIN_EXPR
            FIELD_EXPR
              NAME_REF
                IDENT "p1"
              DOT "."
              NAME_REF
                IDENT "f1"
            WHITESPACE " "
            CUSTOM_OP
              L_ANGLE "<"
              MINUS "-"
              R_ANGLE ">"
            WHITESPACE " "
            FIELD_EXPR
              NAME_REF
                IDENT "p2"
              DOT "."
              NAME_REF
                IDENT "f1"
          WHITESPACE " "
          AS_KW "AS"
          WHITESPACE " "
          NAME
            IDENT "dist"
    WHITESPACE "\n   "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p1"
      COMMA ","
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p2"
    WHITESPACE "\n   "
    ORDER_BY_CLAUSE
      ORDER_KW "ORDER"
      WHITESPACE " "
      BY_KW "BY"
      WHITESPACE " "
      NAME_REF
        IDENT "dist"
      COMMA ","
      WHITESPACE " "
      INDEX_EXPR
        FIELD_EXPR
          NAME_REF
            IDENT "p1"
          DOT "."
          NAME_REF
            IDENT "f1"
        L_BRACK "["
        LITERAL
          INT_NUMBER "0"
        R_BRACK "]"
      COMMA ","
      WHITESPACE " "
      INDEX_EXPR
        FIELD_EXPR
          NAME_REF
            IDENT "p2"
          DOT "."
          NAME_REF
            IDENT "f1"
        L_BRACK "["
        LITERAL
          INT_NUMBER "0"
        R_BRACK "]"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          FIELD_EXPR
            NAME_REF
              IDENT "p1"
            DOT "."
            NAME_REF
              IDENT "f1"
          WHITESPACE " "
          AS_KW "AS"
          WHITESPACE " "
          NAME
            IDENT "point1"
        COMMA ","
        WHITESPACE " "
        TARGET
          FIELD_EXPR
            NAME_REF
              IDENT "p2"
            DOT "."
            NAME_REF
              IDENT "f1"
          WHITESPACE " "
          AS_KW "AS"
          WHITESPACE " "
          NAME
            IDENT "point2"
    WHITESPACE "\n   "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p1"
      COMMA ","
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p2"
    WHITESPACE "\n   "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        PAREN_EXPR
          L_PAREN "("
          BIN_EXPR
            FIELD_EXPR
              NAME_REF
                IDENT "p1"
              DOT "."
              NAME_REF
                IDENT "f1"
            WHITESPACE " "
            CUSTOM_OP
              L_ANGLE "<"
              MINUS "-"
              R_ANGLE ">"
            WHITESPACE " "
            FIELD_EXPR
              NAME_REF
                IDENT "p2"
              DOT "."
              NAME_REF
                IDENT "f1"
          R_PAREN ")"
        WHITESPACE " "
        R_ANGLE ">"
        WHITESPACE " "
        LITERAL
          INT_NUMBER "3"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- put distance result into output to allow sorting with GEQ optimizer - tgl 97/05/10"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          FIELD_EXPR
            NAME_REF
              IDENT "p1"
            DOT "."
            NAME_REF
              IDENT "f1"
          WHITESPACE " "
          AS_KW "AS"
          WHITESPACE " "
          NAME
            IDENT "point1"
        COMMA ","
        WHITESPACE " "
        TARGET
          FIELD_EXPR
            NAME_REF
              IDENT "p2"
            DOT "."
            NAME_REF
              IDENT "f1"
          WHITESPACE " "
          AS_KW "AS"
          WHITESPACE " "
          NAME
            IDENT "point2"
        COMMA ","
        WHITESPACE " "
        TARGET
          PAREN_EXPR
            L_PAREN "("
            BIN_EXPR
              FIELD_EXPR
                NAME_REF
                  IDENT "p1"
                DOT "."
                NAME_REF
                  IDENT "f1"
              WHITESPACE " "
              CUSTOM_OP
                L_ANGLE "<"
                MINUS "-"
                R_ANGLE ">"
              WHITESPACE " "
              FIELD_EXPR
                NAME_REF
                  IDENT "p2"
                DOT "."
                NAME_REF
                  IDENT "f1"
            R_PAREN ")"
          WHITESPACE " "
          AS_KW "AS"
          WHITESPACE " "
          NAME
            IDENT "distance"
    WHITESPACE "\n   "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p1"
      COMMA ","
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p2"
    WHITESPACE "\n   "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        BIN_EXPR
          PAREN_EXPR
            L_PAREN "("
            BIN_EXPR
              FIELD_EXPR
                NAME_REF
                  IDENT "p1"
                DOT "."
                NAME_REF
                  IDENT "f1"
              WHITESPACE " "
              CUSTOM_OP
                L_ANGLE "<"
                MINUS "-"
                R_ANGLE ">"
              WHITESPACE " "
              FIELD_EXPR
                NAME_REF
                  IDENT "p2"
                DOT "."
                NAME_REF
                  IDENT "f1"
            R_PAREN ")"
          WHITESPACE " "
          R_ANGLE ">"
          WHITESPACE " "
          LITERAL
            INT_NUMBER "3"
        WHITESPACE " "
        AND_KW "and"
        WHITESPACE " "
        BIN_EXPR
          FIELD_EXPR
            NAME_REF
              IDENT "p1"
            DOT "."
            NAME_REF
              IDENT "f1"
          WHITESPACE " "
          CUSTOM_OP
            L_ANGLE "<"
            L_ANGLE "<"
          WHITESPACE " "
          FIELD_EXPR
            NAME_REF
              IDENT "p2"
            DOT "."
            NAME_REF
              IDENT "f1"
    WHITESPACE "\n   "
    ORDER_BY_CLAUSE
      ORDER_KW "ORDER"
      WHITESPACE " "
      BY_KW "BY"
      WHITESPACE " "
      NAME_REF
        IDENT "distance"
      COMMA ","
      WHITESPACE " "
      INDEX_EXPR
        FIELD_EXPR
          NAME_REF
            IDENT "p1"
          DOT "."
          NAME_REF
            IDENT "f1"
        L_BRACK "["
        LITERAL
          INT_NUMBER "0"
        R_BRACK "]"
      COMMA ","
      WHITESPACE " "
      INDEX_EXPR
        FIELD_EXPR
          NAME_REF
            IDENT "p2"
          DOT "."
          NAME_REF
            IDENT "f1"
        L_BRACK "["
        LITERAL
          INT_NUMBER "0"
        R_BRACK "]"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- put distance result into output to allow sorting with GEQ optimizer - tgl 97/05/10"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          FIELD_EXPR
            NAME_REF
              IDENT "p1"
            DOT "."
            NAME_REF
              IDENT "f1"
          WHITESPACE " "
          AS_KW "AS"
          WHITESPACE " "
          NAME
            IDENT "point1"
        COMMA ","
        WHITESPACE " "
        TARGET
          FIELD_EXPR
            NAME_REF
              IDENT "p2"
            DOT "."
            NAME_REF
              IDENT "f1"
          WHITESPACE " "
          AS_KW "AS"
          WHITESPACE " "
          NAME
            IDENT "point2"
        COMMA ","
        WHITESPACE " "
        TARGET
          PAREN_EXPR
            L_PAREN "("
            BIN_EXPR
              FIELD_EXPR
                NAME_REF
                  IDENT "p1"
                DOT "."
                NAME_REF
                  IDENT "f1"
              WHITESPACE " "
              CUSTOM_OP
                L_ANGLE "<"
                MINUS "-"
                R_ANGLE ">"
              WHITESPACE " "
              FIELD_EXPR
                NAME_REF
                  IDENT "p2"
                DOT "."
                NAME_REF
                  IDENT "f1"
            R_PAREN ")"
          WHITESPACE " "
          AS_KW "AS"
          WHITESPACE " "
          NAME
            IDENT "distance"
    WHITESPACE "\n   "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p1"
      COMMA ","
      WHITESPACE " "
      NAME_REF
        IDENT "POINT_TBL"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p2"
    WHITESPACE "\n   "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        BIN_EXPR
          BIN_EXPR
            PAREN_EXPR
              L_PAREN "("
              BIN_EXPR
                FIELD_EXPR
                  NAME_REF
                    IDENT "p1"
                  DOT "."
                  NAME_REF
                    IDENT "f1"
                WHITESPACE " "
                CUSTOM_OP
                  L_ANGLE "<"
                  MINUS "-"
                  R_ANGLE ">"
                WHITESPACE " "
                FIELD_EXPR
                  NAME_REF
                    IDENT "p2"
                  DOT "."
                  NAME_REF
                    IDENT "f1"
              R_PAREN ")"
            WHITESPACE " "
            R_ANGLE ">"
            WHITESPACE " "
            LITERAL
              INT_NUMBER "3"
          WHITESPACE " "
          AND_KW "and"
          WHITESPACE " "
          BIN_EXPR
            FIELD_EXPR
              NAME_REF
                IDENT "p1"
              DOT "."
              NAME_REF
                IDENT "f1"
            WHITESPACE " "
            CUSTOM_OP
              L_ANGLE "<"
              L_ANGLE "<"
            WHITESPACE " "
            FIELD_EXPR
              NAME_REF
                IDENT "p2"
              DOT "."
              NAME_REF
                IDENT "f1"
        WHITESPACE " "
        AND_KW "and"
        WHITESPACE " "
        BIN_EXPR
          FIELD_EXPR
            NAME_REF
              IDENT "p1"
            DOT "."
            NAME_REF
              IDENT "f1"
          WHITESPACE " "
          CUSTOM_OP
            PIPE "|"
            R_ANGLE ">"
            R_ANGLE ">"
          WHITESPACE " "
          FIELD_EXPR
            NAME_REF
              IDENT "p2"
            DOT "."
            NAME_REF
              IDENT "f1"
    WHITESPACE "\n   "
    ORDER_BY_CLAUSE
      ORDER_KW "ORDER"
      WHITESPACE " "
      BY_KW "BY"
      WHITESPACE " "
      NAME_REF
        IDENT "distance"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  CREATE_TABLE
    COMMENT "-- Test that GiST indexes provide same behavior as sequential scan"
    WHITESPACE "\n"
    CREATE_KW "CREATE"
    WHITESPACE " "
    TEMP_KW "TEMP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "point_gist_tbl"
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "f1"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                IDENT "point"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  INSERT_STMT
    INSERT_KW "INSERT"
    WHITESPACE " "
    INTO_KW "INTO"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "point_gist_tbl"
    WHITESPACE " "
    SELECT
      SELECT_CLAUSE
        SELECT_KW "SELECT"
        WHITESPACE " "
        TARGET_LIST
          TARGET
            LITERAL
              STRING "'(0,0)'"
      WHITESPACE " "
      FROM_CLAUSE
        FROM_KW "FROM"
        WHITESPACE " "
        CALL_EXPR
          NAME_REF
            IDENT "generate_series"
          ARG_LIST
            L_PAREN "("
            LITERAL
              INT_NUMBER "0"
            COMMA ","
            LITERAL
              INT_NUMBER "1000"
            R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_INDEX_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    INDEX_KW "INDEX"
    WHITESPACE " "
    NAME
      IDENT "point_gist_tbl_index"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "point_gist_tbl"
    WHITESPACE " "
    USING_KW "USING"
    WHITESPACE " "
    NAME_REF
      IDENT "gist"
    WHITESPACE " "
    INDEX_PARAMS
      L_PAREN "("
      NAME_REF
        IDENT "f1"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  INSERT_STMT
    INSERT_KW "INSERT"
    WHITESPACE " "
    INTO_KW "INTO"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "point_gist_tbl"
    WHITESPACE " "
    SELECT
      VALUES_KW "VALUES"
      WHITESPACE " "
      L_PAREN "("
      LITERAL
        STRING "'(0.0000009,0.0000009)'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "enable_seqscan"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    LITERAL
      TRUE_KW "true"
  SEMICOLON ";"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "enable_indexscan"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    LITERAL
      FALSE_KW "false"
  SEMICOLON ";"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "enable_bitmapscan"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    LITERAL
      FALSE_KW "false"
  SEMICOLON ";"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          CALL_EXPR
            NAME_REF
              IDENT "COUNT"
            ARG_LIST
              L_PAREN "("
              STAR "*"
              R_PAREN ")"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "point_gist_tbl"
    WHITESPACE " "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        NAME_REF
          IDENT "f1"
        WHITESPACE " "
        CUSTOM_OP
          TILDE "~"
          EQ "="
        WHITESPACE " "
        CAST_EXPR
          LITERAL
            STRING "'(0.0000009,0.0000009)'"
          COLON2 "::"
          PATH_TYPE
            PATH
              PATH_SEGMENT
                NAME_REF
                  IDENT "point"
  SEMICOLON ";"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          CALL_EXPR
            NAME_REF
              IDENT "COUNT"
            ARG_LIST
              L_PAREN "("
              STAR "*"
              R_PAREN ")"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "point_gist_tbl"
    WHITESPACE " "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        NAME_REF
          IDENT "f1"
        WHITESPACE " "
        CUSTOM_OP
          L_ANGLE "<"
          AT "@"
        WHITESPACE " "
        CAST_EXPR
          LITERAL
            STRING "'(0.0000009,0.0000009),(0.0000009,0.0000009)'"
          COLON2 "::"
          PATH_TYPE
            PATH
              PATH_SEGMENT
                NAME_REF
                  IDENT "box"
  SEMICOLON ";"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          CALL_EXPR
            NAME_REF
              IDENT "COUNT"
            ARG_LIST
              L_PAREN "("
              STAR "*"
              R_PAREN ")"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "point_gist_tbl"
    WHITESPACE " "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        NAME_REF
          IDENT "f1"
        WHITESPACE " "
        CUSTOM_OP
          TILDE "~"
          EQ "="
        WHITESPACE " "
        CAST_EXPR
          LITERAL
            STRING "'(0.0000018,0.0000018)'"
          COLON2 "::"
          PATH_TYPE
            PATH
              PATH_SEGMENT
                NAME_REF
                  IDENT "point"
  SEMICOLON ";"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "enable_seqscan"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    LITERAL
      FALSE_KW "false"
  SEMICOLON ";"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "enable_indexscan"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    LITERAL
      TRUE_KW "true"
  SEMICOLON ";"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "enable_bitmapscan"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    LITERAL
      TRUE_KW "true"
  SEMICOLON ";"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          CALL_EXPR
            NAME_REF
              IDENT "COUNT"
            ARG_LIST
              L_PAREN "("
              STAR "*"
              R_PAREN ")"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "point_gist_tbl"
    WHITESPACE " "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        NAME_REF
          IDENT "f1"
        WHITESPACE " "
        CUSTOM_OP
          TILDE "~"
          EQ "="
        WHITESPACE " "
        CAST_EXPR
          LITERAL
            STRING "'(0.0000009,0.0000009)'"
          COLON2 "::"
          PATH_TYPE
            PATH
              PATH_SEGMENT
                NAME_REF
                  IDENT "point"
  SEMICOLON ";"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          CALL_EXPR
            NAME_REF
              IDENT "COUNT"
            ARG_LIST
              L_PAREN "("
              STAR "*"
              R_PAREN ")"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "point_gist_tbl"
    WHITESPACE " "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        NAME_REF
          IDENT "f1"
        WHITESPACE " "
        CUSTOM_OP
          L_ANGLE "<"
          AT "@"
        WHITESPACE " "
        CAST_EXPR
          LITERAL
            STRING "'(0.0000009,0.0000009),(0.0000009,0.0000009)'"
          COLON2 "::"
          PATH_TYPE
            PATH
              PATH_SEGMENT
                NAME_REF
                  IDENT "box"
  SEMICOLON ";"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          CALL_EXPR
            NAME_REF
              IDENT "COUNT"
            ARG_LIST
              L_PAREN "("
              STAR "*"
              R_PAREN ")"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "point_gist_tbl"
    WHITESPACE " "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        NAME_REF
          IDENT "f1"
        WHITESPACE " "
        CUSTOM_OP
          TILDE "~"
          EQ "="
        WHITESPACE " "
        CAST_EXPR
          LITERAL
            STRING "'(0.0000018,0.0000018)'"
          COLON2 "::"
          PATH_TYPE
            PATH
              PATH_SEGMENT
                NAME_REF
                  IDENT "point"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "enable_seqscan"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "enable_indexscan"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "enable_bitmapscan"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- test non-error-throwing API for some core types"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          CALL_EXPR
            NAME_REF
              IDENT "pg_input_is_valid"
            ARG_LIST
              L_PAREN "("
              LITERAL
                STRING "'1,y'"
              COMMA ","
              WHITESPACE " "
              LITERAL
                STRING "'point'"
              R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          STAR "*"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      CALL_EXPR
        NAME_REF
          IDENT "pg_input_error_info"
        ARG_LIST
          L_PAREN "("
          LITERAL
            STRING "'1,y'"
          COMMA ","
          WHITESPACE " "
          LITERAL
            STRING "'point'"
          R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
