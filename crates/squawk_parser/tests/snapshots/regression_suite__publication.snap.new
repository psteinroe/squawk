---
source: crates/squawk_parser/tests/regression_suite.rs
assertion_line: 87
input_file: crates/squawk_parser/tests/data/regression_suite/publication.sql
---
SOURCE_FILE
  COMMENT "--"
  WHITESPACE "\n"
  COMMENT "-- PUBLICATION"
  WHITESPACE "\n"
  COMMENT "--"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_publication_user"
    WHITESPACE " "
    IDENT "LOGIN"
    WHITESPACE " "
    IDENT "SUPERUSER"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_publication_user2"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_publication_user_dummy"
    WHITESPACE " "
    IDENT "LOGIN"
    WHITESPACE " "
    IDENT "NOSUPERUSER"
  SEMICOLON ";"
  WHITESPACE "\n"
  SET_SESSION_AUTH_STMT
    SET_KW "SET"
    WHITESPACE " "
    SESSION_KW "SESSION"
    WHITESPACE " "
    AUTHORIZATION_KW "AUTHORIZATION"
    WHITESPACE " "
    LITERAL
      STRING "'regress_publication_user'"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- suppress warning that depends on wal_level"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_default"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT_STMT
    COMMENT_KW "COMMENT"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_default"
    WHITESPACE " "
    IS_KW "IS"
    WHITESPACE " "
    LITERAL
      STRING "'test publication'"
  SEMICOLON ";"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          CALL_EXPR
            NAME_REF
              IDENT "obj_description"
            ARG_LIST
              L_PAREN "("
              FIELD_EXPR
                NAME_REF
                  IDENT "p"
                DOT "."
                NAME_REF
                  IDENT "oid"
              COMMA ","
              WHITESPACE " "
              LITERAL
                STRING "'pg_publication'"
              R_PAREN ")"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "pg_publication"
      WHITESPACE " "
      ALIAS
        NAME
          IDENT "p"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_ins_trunct"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      PATH_TYPE
        PATH
          PATH_SEGMENT
            NAME_REF
              INSERT_KW "insert"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_default"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    L_PAREN "("
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "publish"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    PATH_TYPE
      PATH
        PATH_SEGMENT
          NAME_REF
            UPDATE_KW "update"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- error cases"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_xxx"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "foo"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_xxx"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        STRING "'cluster, vacuum'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_xxx"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish_via_partition_root"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        STRING "'true'"
      COMMA ","
      WHITESPACE " "
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish_via_partition_root"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        STRING "'0'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_xxx"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish_generated_columns"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      PATH_TYPE
        PATH
          PATH_SEGMENT
            NAME_REF
              STORED_KW "stored"
      COMMA ","
      WHITESPACE " "
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish_generated_columns"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      NONE_KW "none"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_xxx"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish_generated_columns"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      PATH_TYPE
        PATH
          PATH_SEGMENT
            NAME_REF
              IDENT "foo"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_default"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    L_PAREN "("
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "publish"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'insert, update, delete'"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n\n"
  COMMENT "--- adding tables"
  WHITESPACE "\n"
  CREATE_SCHEMA_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "pub_test"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_tbl1"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "id"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                IDENT "serial"
        WHITESPACE " "
        PRIMARY_KEY_CONSTRAINT
          PRIMARY_KW "primary"
          WHITESPACE " "
          KEY_KW "key"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          DATA_KW "data"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME
          IDENT "testpub_nopk"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "foo"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "bar"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_VIEW_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    VIEW_KW "VIEW"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_view"
    WHITESPACE " "
    AS_KW "AS"
    WHITESPACE " "
    SELECT
      SELECT_CLAUSE
        SELECT_KW "SELECT"
        WHITESPACE " "
        TARGET_LIST
          TARGET
            LITERAL
              INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_parted"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      R_PAREN ")"
    WHITESPACE " "
    PARTITION_KW "PARTITION"
    WHITESPACE " "
    BY_KW "BY"
    WHITESPACE " "
    IDENT "LIST"
    WHITESPACE " "
    L_PAREN "("
    NAME_REF
      IDENT "a"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_foralltables"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    ALL_KW "ALL"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        STRING "'insert'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_foralltables"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    L_PAREN "("
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "publish"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'insert, update'"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_tbl2"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "id"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                IDENT "serial"
        WHITESPACE " "
        PRIMARY_KEY_CONSTRAINT
          PRIMARY_KW "primary"
          WHITESPACE " "
          KEY_KW "key"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          DATA_KW "data"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - can't add to for all tables publication"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_foralltables"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl2"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - can't drop from all tables publication"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_foralltables"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl2"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - can't add to for all tables publication"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_foralltables"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_nopk"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail - can't add schema to 'FOR ALL TABLES' publication"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_foralltables"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - can't drop schema from 'FOR ALL TABLES' publication"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_foralltables"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - can't set schema to 'FOR ALL TABLES' publication"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_foralltables"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_fortable"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl1"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- should be able to add schema to 'FOR TABLE' publication"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- should be able to drop schema from 'FOR TABLE' publication"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- should be able to set schema to 'FOR TABLE' publication"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_forschema"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- should be able to create publication with schema and table of the same"
  WHITESPACE "\n"
  COMMENT "-- schema"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_for_tbl_schema"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test"
    COMMA ","
  WHITESPACE " "
  SELECT
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_nopk"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- weird parser corner case"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_parsertst"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_nopk"
    COMMA ","
    WHITESPACE " "
    CURRENT_SCHEMA_KW "CURRENT_SCHEMA"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_parsertst"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "foo"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "test"
  ERROR
    DOT "."
  ERROR
    IDENT "foo"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- should be able to add a table of the same schema to the schema publication"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_forschema"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_nopk"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- should be able to drop the table"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_forschema"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_nopk"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail - can't drop a table from the schema publication which isn't in the"
  WHITESPACE "\n"
  COMMENT "-- publication"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_forschema"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_nopk"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- should be able to set table to schema publication"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_forschema"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_nopk"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          NAME_REF
            IDENT "pubname"
        COMMA ","
        WHITESPACE " "
        TARGET
          NAME_REF
            IDENT "puballtables"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "pg_publication"
    WHITESPACE " "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        NAME_REF
          IDENT "pubname"
        WHITESPACE " "
        EQ "="
        WHITESPACE " "
        LITERAL
          STRING "'testpub_foralltables'"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl2"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_foralltables"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_forschema"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_for_tbl_schema"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_tbl3"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_tbl3a"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      R_PAREN ")"
    WHITESPACE " "
    INHERITS_KW "INHERITS"
    WHITESPACE " "
    L_PAREN "("
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl3"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub3"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl3"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub4"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    ONLY_KW "ONLY"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl3"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl3"
    COMMA ","
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl3a"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub3"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "testpub4"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Tests for partitioned tables"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_forparted"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_forparted1"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_parted1"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      LIKE_CLAUSE
        LIKE_KW "LIKE"
        WHITESPACE " "
        PATH
          PATH_SEGMENT
            NAME_REF
              IDENT "testpub_parted"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_parted2"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      LIKE_CLAUSE
        LIKE_KW "LIKE"
        WHITESPACE " "
        PATH
          PATH_SEGMENT
            NAME_REF
              IDENT "testpub_parted"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_forparted1"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    L_PAREN "("
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "publish"
    EQ "="
    LITERAL
      STRING "'insert'"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_parted"
    WHITESPACE " "
    ATTACH_PARTITION
      ATTACH_KW "ATTACH"
      WHITESPACE " "
      PARTITION_KW "PARTITION"
      WHITESPACE " "
      NAME_REF
        IDENT "testpub_parted1"
      WHITESPACE " "
      FOR_KW "FOR"
      WHITESPACE " "
      VALUES_KW "VALUES"
      WHITESPACE " "
      IN_KW "IN"
      WHITESPACE " "
      L_PAREN "("
      LITERAL
        INT_NUMBER "1"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_parted"
    WHITESPACE " "
    ATTACH_PARTITION
      ATTACH_KW "ATTACH"
      WHITESPACE " "
      PARTITION_KW "PARTITION"
      WHITESPACE " "
      NAME_REF
        IDENT "testpub_parted2"
      WHITESPACE " "
      FOR_KW "FOR"
      WHITESPACE " "
      VALUES_KW "VALUES"
      WHITESPACE " "
      IN_KW "IN"
      WHITESPACE " "
      L_PAREN "("
      LITERAL
        INT_NUMBER "2"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- works despite missing REPLICA IDENTITY, because updates are not replicated"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_parted1"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- only parent is listed as being in publication, not the partition"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_forparted"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_parted"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- works despite missing REPLICA IDENTITY, because no actual update happened"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_parted"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
    WHITESPACE " "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      LITERAL
        FALSE_KW "false"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- should now fail, because parent's publication replicates updates"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_parted1"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_parted"
    WHITESPACE " "
    DETACH_PARTITION
      DETACH_KW "DETACH"
      WHITESPACE " "
      PARTITION_KW "PARTITION"
      WHITESPACE " "
      NAME_REF
        IDENT "testpub_parted1"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- works again, because parent's publication is no longer considered"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_parted1"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_forparted"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    L_PAREN "("
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "publish_via_partition_root"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      TRUE_KW "true"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- still fail, because parent's publication replicates updates"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_parted2"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "2"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_forparted"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_parted"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- works again, because update is no longer replicated"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_parted2"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "2"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_parted1"
    COMMA ","
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_parted2"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_forparted"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_forparted1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  CREATE_TABLE
    COMMENT "-- Tests for row filters"
    WHITESPACE "\n"
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INTEGER_KW "integer"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_rf_tbl2"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "c"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "d"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INTEGER_KW "integer"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_rf_tbl3"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "e"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INTEGER_KW "integer"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_rf_tbl4"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "g"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_rf_tbl5"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                XML_KW "xml"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_SCHEMA_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "testpub_rf_schema1"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "testpub_rf_schema1"
      DOT "."
      PATH_SEGMENT
        NAME
          IDENT "testpub_rf_tbl5"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "h"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INTEGER_KW "integer"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_SCHEMA_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "testpub_rf_schema2"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "testpub_rf_schema2"
      DOT "."
      PATH_SEGMENT
        NAME
          IDENT "testpub_rf_tbl6"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "i"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INTEGER_KW "integer"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- Firstly, test using the option publish='insert' because the row filter"
  WHITESPACE "\n"
  COMMENT "-- validation of referenced columns is less strict than for delete/update."
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub5"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    COMMA ","
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl2"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      BIN_EXPR
        NAME_REF
          IDENT "c"
        WHITESPACE " "
        NEQB "<>"
        WHITESPACE " "
        LITERAL
          STRING "'test'"
      WHITESPACE " "
      AND_KW "AND"
      WHITESPACE " "
      BIN_EXPR
        NAME_REF
          IDENT "d"
        WHITESPACE " "
        L_ANGLE "<"
        WHITESPACE " "
        LITERAL
          INT_NUMBER "5"
    R_PAREN ")"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        STRING "'insert'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl3"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      BIN_EXPR
        NAME_REF
          IDENT "e"
        WHITESPACE " "
        R_ANGLE ">"
        WHITESPACE " "
        LITERAL
          INT_NUMBER "1000"
      WHITESPACE " "
      AND_KW "AND"
      WHITESPACE " "
      BIN_EXPR
        NAME_REF
          IDENT "e"
        WHITESPACE " "
        L_ANGLE "<"
        WHITESPACE " "
        LITERAL
          INT_NUMBER "2000"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl2"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- remove testpub_rf_tbl1 and add testpub_rf_tbl3 again (another WHERE expression)"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl3"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      BIN_EXPR
        NAME_REF
          IDENT "e"
        WHITESPACE " "
        R_ANGLE ">"
        WHITESPACE " "
        LITERAL
          INT_NUMBER "300"
      WHITESPACE " "
      AND_KW "AND"
      WHITESPACE " "
      BIN_EXPR
        NAME_REF
          IDENT "e"
        WHITESPACE " "
        L_ANGLE "<"
        WHITESPACE " "
        LITERAL
          INT_NUMBER "500"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- test \\d <tablename> (now it displays filter information)"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_rf_yes"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "1"
    R_PAREN ")"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        STRING "'insert'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_rf_no"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_rf_yes"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_rf_no"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- some more syntax tests to exercise other parser pathways"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_syntax1"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    COMMA ","
    WHITESPACE " "
    ONLY_KW "ONLY"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl3"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "e"
      WHITESPACE " "
      L_ANGLE "<"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "999"
    R_PAREN ")"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        STRING "'insert'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_syntax1"
  SEMICOLON ";"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_syntax2"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    COMMA ","
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "testpub_rf_schema1"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl5"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "h"
      WHITESPACE " "
      L_ANGLE "<"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "999"
    R_PAREN ")"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        STRING "'insert'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_syntax2"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - schemas don't allow WHERE clause"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_syntax3"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_rf_schema1"
  WHITESPACE " "
  ERROR
    WHERE_KW "WHERE"
  WHITESPACE " "
  ERROR
    L_PAREN "("
  ERROR
    IDENT "a"
  WHITESPACE " "
  ERROR
    EQ "="
  WHITESPACE " "
  ERROR
    INT_NUMBER "123"
  ERROR
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_syntax3"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_rf_schema1"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_rf_schema1"
  WHITESPACE " "
  ERROR
    WHERE_KW "WHERE"
  WHITESPACE " "
  ERROR
    L_PAREN "("
  ERROR
    IDENT "a"
  WHITESPACE " "
  ERROR
    EQ "="
  WHITESPACE " "
  ERROR
    INT_NUMBER "123"
  ERROR
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - duplicate tables are not allowed if that table has any WHERE clause"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_dups"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        INT_NUMBER "1"
    R_PAREN ")"
    COMMA ","
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        STRING "'insert'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_dups"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    COMMA ","
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        INT_NUMBER "2"
    R_PAREN ")"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        STRING "'insert'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - publication WHERE clause must be boolean"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl3"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    LITERAL
      INT_NUMBER "1234"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - aggregate functions not allowed in WHERE clause"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl3"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "e"
      WHITESPACE " "
      L_ANGLE "<"
      WHITESPACE " "
      CALL_EXPR
        NAME_REF
          IDENT "AVG"
        ARG_LIST
          L_PAREN "("
          NAME_REF
            IDENT "e"
          R_PAREN ")"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - user-defined operators are not allowed"
  WHITESPACE "\n"
  CREATE_FUNCTION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    FUNCTION_KW "FUNCTION"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_rf_func1"
    PARAM_LIST
      L_PAREN "("
      PARAM
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INTEGER_KW "integer"
      COMMA ","
      WHITESPACE " "
      PARAM
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INTEGER_KW "integer"
      R_PAREN ")"
    WHITESPACE " "
    RET_TYPE
      RETURNS_KW "RETURNS"
      WHITESPACE " "
      PATH_TYPE
        PATH
          PATH_SEGMENT
            NAME_REF
              BOOLEAN_KW "boolean"
    WHITESPACE " "
    FUNC_OPTION_LIST
      AS_FUNC_OPTION
        AS_KW "AS"
        WHITESPACE " "
        LITERAL
          DOLLAR_QUOTED_STRING "$$ SELECT hashint4($1) > $2 $$"
      WHITESPACE " "
      LANGUAGE_FUNC_OPTION
        LANGUAGE_KW "LANGUAGE"
        WHITESPACE " "
        SQL_KW "SQL"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_OPERATOR_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    OPERATOR_KW "OPERATOR"
    WHITESPACE " "
    CUSTOM_OP
      EQ "="
      POUND "#"
      R_ANGLE ">"
    WHITESPACE " "
    L_PAREN "("
    NAME
      PROCEDURE_KW "PROCEDURE"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    PATH_TYPE
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "testpub_rf_func1"
    COMMA ","
    WHITESPACE " "
    NAME
      IDENT "LEFTARG"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    PATH_TYPE
      PATH
        PATH_SEGMENT
          NAME_REF
            INTEGER_KW "integer"
    COMMA ","
    WHITESPACE " "
    NAME
      IDENT "RIGHTARG"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    PATH_TYPE
      PATH
        PATH_SEGMENT
          NAME_REF
            INTEGER_KW "integer"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub6"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl3"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "e"
      WHITESPACE " "
      CUSTOM_OP
        EQ "="
        POUND "#"
        R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "27"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - user-defined functions are not allowed"
  WHITESPACE "\n"
  CREATE_FUNCTION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    FUNCTION_KW "FUNCTION"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_rf_func2"
    PARAM_LIST
      L_PAREN "("
      R_PAREN ")"
    WHITESPACE " "
    RET_TYPE
      RETURNS_KW "RETURNS"
      WHITESPACE " "
      PATH_TYPE
        PATH
          PATH_SEGMENT
            NAME_REF
              INTEGER_KW "integer"
    WHITESPACE " "
    FUNC_OPTION_LIST
      VOLATILITY_FUNC_OPTION
        IMMUTABLE_KW "IMMUTABLE"
      WHITESPACE " "
      AS_FUNC_OPTION
        AS_KW "AS"
        WHITESPACE " "
        LITERAL
          DOLLAR_QUOTED_STRING "$$ BEGIN RETURN 123; END; $$"
      WHITESPACE " "
      LANGUAGE_FUNC_OPTION
        LANGUAGE_KW "LANGUAGE"
        WHITESPACE " "
        IDENT "plpgsql"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      GTEQ ">="
      WHITESPACE " "
      CALL_EXPR
        NAME_REF
          IDENT "testpub_rf_func2"
        ARG_LIST
          L_PAREN "("
          R_PAREN ")"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - non-immutable functions are not allowed. random() is volatile."
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      L_ANGLE "<"
      WHITESPACE " "
      CALL_EXPR
        NAME_REF
          IDENT "random"
        ARG_LIST
          L_PAREN "("
          R_PAREN ")"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - user-defined collations are not allowed"
  WHITESPACE "\n"
  CREATE_COLLATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    COLLATION_KW "COLLATION"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "user_collation"
    WHITESPACE " "
    FROM_KW "FROM"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "\"C\""
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "b"
      WHITESPACE " "
      L_ANGLE "<"
      WHITESPACE " "
      BIN_EXPR
        LITERAL
          STRING "'2'"
        WHITESPACE " "
        COLLATE_KW "COLLATE"
        WHITESPACE " "
        NAME_REF
          IDENT "user_collation"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - NULLIF is allowed"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      CALL_EXPR
        NAME_REF
          NULLIF_KW "NULLIF"
        ARG_LIST
          L_PAREN "("
          LITERAL
            INT_NUMBER "1"
          COMMA ","
          LITERAL
            INT_NUMBER "2"
          R_PAREN ")"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      NAME_REF
        IDENT "a"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - built-in operators are allowed"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      IS_KW "IS"
      WHITESPACE " "
      LITERAL
        NULL_KW "NULL"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      PAREN_EXPR
        L_PAREN "("
        BIN_EXPR
          NAME_REF
            IDENT "a"
          WHITESPACE " "
          R_ANGLE ">"
          WHITESPACE " "
          LITERAL
            INT_NUMBER "5"
        R_PAREN ")"
      WHITESPACE " "
      IS_KW "IS"
      WHITESPACE " "
      LITERAL
        FALSE_KW "FALSE"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      IS_DISTINCT_FROM
        IS_KW "IS"
        WHITESPACE " "
        DISTINCT_KW "DISTINCT"
        WHITESPACE " "
        FROM_KW "FROM"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "5"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      TUPLE_EXPR
        L_PAREN "("
        NAME_REF
          IDENT "a"
        COMMA ","
        WHITESPACE " "
        BIN_EXPR
          NAME_REF
            IDENT "a"
          WHITESPACE " "
          PLUS "+"
          WHITESPACE " "
          LITERAL
            INT_NUMBER "1"
        R_PAREN ")"
      WHITESPACE " "
      L_ANGLE "<"
      WHITESPACE " "
      TUPLE_EXPR
        L_PAREN "("
        LITERAL
          INT_NUMBER "2"
        COMMA ","
        WHITESPACE " "
        LITERAL
          INT_NUMBER "3"
        R_PAREN ")"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - built-in type coercions between two binary compatible datatypes are allowed"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      CAST_EXPR
        NAME_REF
          IDENT "b"
        COLON2 "::"
        CHAR_TYPE
          VARCHAR_KW "varchar"
      WHITESPACE " "
      L_ANGLE "<"
      WHITESPACE " "
      LITERAL
        STRING "'2'"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - immutable built-in functions are allowed"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl4"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      CALL_EXPR
        NAME_REF
          IDENT "length"
        ARG_LIST
          L_PAREN "("
          NAME_REF
            IDENT "g"
          R_PAREN ")"
      WHITESPACE " "
      L_ANGLE "<"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "6"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - user-defined types are not allowed"
  WHITESPACE "\n"
  CREATE_TYPE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    TYPE_KW "TYPE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "rf_bug_status"
    WHITESPACE " "
    AS_KW "AS"
    WHITESPACE " "
    ENUM_KW "ENUM"
    WHITESPACE " "
    L_PAREN "("
    LITERAL
      STRING "'new'"
    COMMA ","
    WHITESPACE " "
    LITERAL
      STRING "'open'"
    COMMA ","
    WHITESPACE " "
    LITERAL
      STRING "'closed'"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "rf_bug"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "id"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                IDENT "serial"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "description"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "status"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                IDENT "rf_bug_status"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub6"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_bug"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "status"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        STRING "'open'"
    R_PAREN ")"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        STRING "'insert'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_bug"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TYPE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    TYPE_KW "TYPE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_bug_status"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - row filter expression is not simple"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub6"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      IN_KW "IN"
      WHITESPACE " "
      PAREN_EXPR
        L_PAREN "("
        SELECT
          SELECT_CLAUSE
            SELECT_KW "SELECT"
            WHITESPACE " "
            TARGET_LIST
              TARGET
                CALL_EXPR
                  NAME_REF
                    IDENT "generate_series"
                  ARG_LIST
                    L_PAREN "("
                    LITERAL
                      INT_NUMBER "1"
                    COMMA ","
                    LITERAL
                      INT_NUMBER "5"
                    R_PAREN ")"
        R_PAREN ")"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - system columns are not allowed"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub6"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      CAST_EXPR
        LITERAL
          STRING "'(0,1)'"
        COLON2 "::"
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                IDENT "tid"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      NAME_REF
        IDENT "ctid"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - conditional expressions are allowed"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl5"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      IS_KW "IS"
      WHITESPACE " "
      NAME_REF
        DOCUMENT_KW "DOCUMENT"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl5"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    CALL_EXPR
      NAME_REF
        XMLEXISTS_KW "xmlexists"
      ARG_LIST
        L_PAREN "("
        LITERAL
          STRING "'//foo[text() = ''bar'']'"
        WHITESPACE " "
        PASSING_KW "PASSING"
        WHITESPACE " "
        BY_KW "BY"
        WHITESPACE " "
        VALUE_KW "VALUE"
        WHITESPACE " "
        NAME_REF
          IDENT "a"
        R_PAREN ")"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      CALL_EXPR
        NAME_REF
          NULLIF_KW "NULLIF"
        ARG_LIST
          L_PAREN "("
          LITERAL
            INT_NUMBER "1"
          COMMA ","
          WHITESPACE " "
          LITERAL
            INT_NUMBER "2"
          R_PAREN ")"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      NAME_REF
        IDENT "a"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    CASE_EXPR
      CASE_KW "CASE"
      WHITESPACE " "
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      WHEN_CLAUSE
        WHEN_KW "WHEN"
        WHITESPACE " "
        LITERAL
          INT_NUMBER "5"
        WHITESPACE " "
        THEN_KW "THEN"
        WHITESPACE " "
        LITERAL
          TRUE_KW "true"
      WHITESPACE " "
      ELSE_KW "ELSE"
      WHITESPACE " "
      LITERAL
        FALSE_KW "false"
      WHITESPACE " "
      END_KW "END"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      CALL_EXPR
        NAME_REF
          COALESCE_KW "COALESCE"
        ARG_LIST
          L_PAREN "("
          NAME_REF
            IDENT "b"
          COMMA ","
          WHITESPACE " "
          LITERAL
            STRING "'foo'"
          R_PAREN ")"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        STRING "'foo'"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      CALL_EXPR
        NAME_REF
          GREATEST_KW "GREATEST"
        ARG_LIST
          L_PAREN "("
          NAME_REF
            IDENT "a"
          COMMA ","
          WHITESPACE " "
          LITERAL
            INT_NUMBER "10"
          R_PAREN ")"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "10"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      IN_KW "IN"
      WHITESPACE " "
      TUPLE_EXPR
        L_PAREN "("
        LITERAL
          INT_NUMBER "2"
        COMMA ","
        WHITESPACE " "
        LITERAL
          INT_NUMBER "4"
        COMMA ","
        WHITESPACE " "
        LITERAL
          INT_NUMBER "6"
        R_PAREN ")"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      ARRAY_EXPR
        ARRAY_KW "ARRAY"
        L_BRACK "["
        NAME_REF
          IDENT "a"
        R_BRACK "]"
      WHITESPACE " "
      CUSTOM_OP
        L_ANGLE "<"
        AT "@"
      WHITESPACE " "
      ARRAY_EXPR
        ARRAY_KW "ARRAY"
        L_BRACK "["
        LITERAL
          INT_NUMBER "2"
        COMMA ","
        WHITESPACE " "
        LITERAL
          INT_NUMBER "4"
        COMMA ","
        WHITESPACE " "
        LITERAL
          INT_NUMBER "6"
        R_BRACK "]"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      CALL_EXPR
        NAME_REF
          ROW_KW "ROW"
        ARG_LIST
          L_PAREN "("
          NAME_REF
            IDENT "a"
          COMMA ","
          WHITESPACE " "
          LITERAL
            INT_NUMBER "2"
          R_PAREN ")"
      WHITESPACE " "
      IS_KW "IS"
      WHITESPACE " "
      LITERAL
        NULL_KW "NULL"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - WHERE not allowed in DROP"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "e"
      WHITESPACE " "
      L_ANGLE "<"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "27"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - cannot ALTER SET table which is a member of a pre-existing schema"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub6"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_rf_schema2"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- should be able to set publication with schema and table of the same schema"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_rf_schema2"
    COMMA ","
  WHITESPACE " "
  SELECT
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "testpub_rf_schema2"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl6"
  WHITESPACE " "
  ERROR
    WHERE_KW "WHERE"
  WHITESPACE " "
  ERROR
    L_PAREN "("
  ERROR
    IDENT "i"
  WHITESPACE " "
  ERROR
    L_ANGLE "<"
  WHITESPACE " "
  ERROR
    INT_NUMBER "99"
  ERROR
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    COMMENT "-- fail - virtual generated column uses user-defined function"
    WHITESPACE "\n"
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_rf_tbl6"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "id"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
        WHITESPACE " "
        PRIMARY_KEY_CONSTRAINT
          PRIMARY_KW "PRIMARY"
          WHITESPACE " "
          KEY_KW "KEY"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "x"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "y"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
        WHITESPACE " "
        GENERATED_CONSTRAINT
          GENERATED_KW "GENERATED"
          WHITESPACE " "
          ALWAYS_KW "ALWAYS"
          WHITESPACE " "
          AS_KW "AS"
          WHITESPACE " "
          L_PAREN "("
          BIN_EXPR
            NAME_REF
              IDENT "x"
            WHITESPACE " "
            STAR "*"
            WHITESPACE " "
            CALL_EXPR
              NAME_REF
                IDENT "testpub_rf_func2"
              ARG_LIST
                L_PAREN "("
                R_PAREN ")"
          R_PAREN ")"
  WHITESPACE " "
  ERROR
    IDENT "VIRTUAL"
  ERROR
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub7"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl6"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "y"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "100"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- test that SET EXPRESSION is rejected, because it could affect a row filter"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_rf_tbl7"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "id"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
        WHITESPACE " "
        PRIMARY_KEY_CONSTRAINT
          PRIMARY_KW "PRIMARY"
          WHITESPACE " "
          KEY_KW "KEY"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "x"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "y"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
        WHITESPACE " "
        GENERATED_CONSTRAINT
          GENERATED_KW "GENERATED"
          WHITESPACE " "
          ALWAYS_KW "ALWAYS"
          WHITESPACE " "
          AS_KW "AS"
          WHITESPACE " "
          L_PAREN "("
          BIN_EXPR
            NAME_REF
              IDENT "x"
            WHITESPACE " "
            STAR "*"
            WHITESPACE " "
            LITERAL
              INT_NUMBER "111"
          R_PAREN ")"
  WHITESPACE " "
  ERROR
    IDENT "VIRTUAL"
  ERROR
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub8"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl7"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "y"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "100"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl7"
    WHITESPACE " "
    ALTER_COLUMN
      ALTER_KW "ALTER"
      WHITESPACE " "
      COLUMN_KW "COLUMN"
      WHITESPACE " "
      IDENT "y"
      WHITESPACE " "
      SET_EXPRESSION
        SET_KW "SET"
        WHITESPACE " "
        EXPRESSION_KW "EXPRESSION"
        WHITESPACE " "
        AS_KW "AS"
        WHITESPACE " "
        L_PAREN "("
        BIN_EXPR
          NAME_REF
            IDENT "x"
          WHITESPACE " "
          STAR "*"
          WHITESPACE " "
          CALL_EXPR
            NAME_REF
              IDENT "testpub_rf_func2"
            ARG_LIST
              L_PAREN "("
              R_PAREN ")"
        R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl1"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl2"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl3"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl4"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl5"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl6"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "testpub_rf_schema1"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl5"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "testpub_rf_schema2"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl6"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_SCHEMA_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "testpub_rf_schema1"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_SCHEMA_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "testpub_rf_schema2"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub8"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_tbl7"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_OPERATOR_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    OPERATOR_KW "OPERATOR"
    WHITESPACE " "
    CUSTOM_OP
      EQ "="
      POUND "#"
      R_ANGLE ">"
    L_PAREN "("
    PATH_TYPE
      PATH
        PATH_SEGMENT
          NAME_REF
            INTEGER_KW "integer"
    COMMA ","
    WHITESPACE " "
    PATH_TYPE
      PATH
        PATH_SEGMENT
          NAME_REF
            INTEGER_KW "integer"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_FUNCTION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    FUNCTION_KW "FUNCTION"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_func1"
    PARAM_LIST
      L_PAREN "("
      PARAM
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INTEGER_KW "integer"
      COMMA ","
      WHITESPACE " "
      PARAM
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INTEGER_KW "integer"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_FUNCTION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    FUNCTION_KW "FUNCTION"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_rf_func2"
    PARAM_LIST
      L_PAREN "("
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_COLLATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    COLLATION_KW "COLLATION"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "user_collation"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  CREATE_TABLE
    COMMENT "-- ======================================================"
    WHITESPACE "\n"
    COMMENT "-- More row filter tests for validating column references"
    WHITESPACE "\n"
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "rf_tbl_abcd_nopk"
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "d"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "rf_tbl_abcd_pk"
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "d"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      PRIMARY_KEY_CONSTRAINT
        PRIMARY_KW "PRIMARY"
        WHITESPACE " "
        KEY_KW "KEY"
        COLUMN_LIST
          L_PAREN "("
          COLUMN
            NAME_REF
              IDENT "a"
          COMMA ","
          COLUMN
            NAME_REF
              IDENT "b"
          R_PAREN ")"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "rf_tbl_abcd_part_pk"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
        WHITESPACE " "
        PRIMARY_KEY_CONSTRAINT
          PRIMARY_KW "PRIMARY"
          WHITESPACE " "
          KEY_KW "KEY"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      R_PAREN ")"
    WHITESPACE " "
    PARTITION_KW "PARTITION"
    WHITESPACE " "
    BY_KW "by"
    WHITESPACE " "
    RANGE_KW "RANGE"
    WHITESPACE " "
    L_PAREN "("
    NAME_REF
      IDENT "a"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "rf_tbl_abcd_part_pk_1"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
        WHITESPACE " "
        PRIMARY_KEY_CONSTRAINT
          PRIMARY_KW "PRIMARY"
          WHITESPACE " "
          KEY_KW "KEY"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
    WHITESPACE " "
    ATTACH_PARTITION
      ATTACH_KW "ATTACH"
      WHITESPACE " "
      PARTITION_KW "PARTITION"
      WHITESPACE " "
      NAME_REF
        IDENT "rf_tbl_abcd_part_pk_1"
      WHITESPACE " "
      FOR_KW "FOR"
      WHITESPACE " "
      VALUES_KW "VALUES"
      WHITESPACE " "
      FROM_KW "FROM"
      WHITESPACE " "
      L_PAREN "("
      LITERAL
        INT_NUMBER "1"
      R_PAREN ")"
      WHITESPACE " "
      TO_KW "TO"
      WHITESPACE " "
      L_PAREN "("
      LITERAL
        INT_NUMBER "10"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Case 1. REPLICA IDENTITY DEFAULT (means use primary key or nothing)"
  WHITESPACE "\n"
  COMMENT "-- 1a. REPLICA IDENTITY is DEFAULT and table has a PK."
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub6"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "99"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - \"a\" is a PK col"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "b"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "99"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - \"b\" is a PK col"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "c"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "99"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - \"c\" is not part of the PK"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "d"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "99"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - \"d\" is not part of the PK"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- 1b. REPLICA IDENTITY is DEFAULT and table has no PK"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "99"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - \"a\" is not part of REPLICA IDENTITY"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Case 2. REPLICA IDENTITY FULL"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      FULL_KW "FULL"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      FULL_KW "FULL"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "c"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "99"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - \"c\" is in REPLICA IDENTITY now even though not in PK"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "99"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - \"a\" is in REPLICA IDENTITY now"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Case 3. REPLICA IDENTITY NOTHING"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      NOTHING_KW "NOTHING"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      NOTHING_KW "NOTHING"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "99"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - \"a\" is in PK but it is not part of REPLICA IDENTITY NOTHING"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "c"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "99"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - \"c\" is not in PK and not in REPLICA IDENTITY NOTHING"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "99"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - \"a\" is not in REPLICA IDENTITY NOTHING"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Case 4. REPLICA IDENTITY INDEX"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    ALTER_COLUMN
      ALTER_KW "ALTER"
      WHITESPACE " "
      COLUMN_KW "COLUMN"
      WHITESPACE " "
      IDENT "c"
      WHITESPACE " "
      SET_NOT_NULL
        SET_KW "SET"
        WHITESPACE " "
        NOT_KW "NOT"
        WHITESPACE " "
        NULL_KW "NULL"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_INDEX_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    UNIQUE_KW "UNIQUE"
    WHITESPACE " "
    INDEX_KW "INDEX"
    WHITESPACE " "
    NAME
      IDENT "idx_abcd_pk_c"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    INDEX_PARAMS
      L_PAREN "("
      NAME_REF
        IDENT "c"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      USING_KW "USING"
      WHITESPACE " "
      INDEX_KW "INDEX"
      WHITESPACE " "
      NAME_REF
        IDENT "idx_abcd_pk_c"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    ALTER_COLUMN
      ALTER_KW "ALTER"
      WHITESPACE " "
      COLUMN_KW "COLUMN"
      WHITESPACE " "
      IDENT "c"
      WHITESPACE " "
      SET_NOT_NULL
        SET_KW "SET"
        WHITESPACE " "
        NOT_KW "NOT"
        WHITESPACE " "
        NULL_KW "NULL"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_INDEX_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    UNIQUE_KW "UNIQUE"
    WHITESPACE " "
    INDEX_KW "INDEX"
    WHITESPACE " "
    NAME
      IDENT "idx_abcd_nopk_c"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    INDEX_PARAMS
      L_PAREN "("
      NAME_REF
        IDENT "c"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      USING_KW "USING"
      WHITESPACE " "
      INDEX_KW "INDEX"
      WHITESPACE " "
      NAME_REF
        IDENT "idx_abcd_nopk_c"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "99"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - \"a\" is in PK but it is not part of REPLICA IDENTITY INDEX"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "c"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "99"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - \"c\" is not in PK but it is part of REPLICA IDENTITY INDEX"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "99"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - \"a\" is not in REPLICA IDENTITY INDEX"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "c"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "99"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - \"c\" is part of REPLICA IDENTITY INDEX"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Tests for partitioned table"
  WHITESPACE "\n\n"
  COMMENT "-- set PUBLISH_VIA_PARTITION_ROOT to false and test row filter for partitioned"
  WHITESPACE "\n"
  COMMENT "-- table"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    L_PAREN "("
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "PUBLISH_VIA_PARTITION_ROOT"
    EQ "="
    LITERAL
      INT_NUMBER "0"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - cannot use row filter for partitioned table"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "99"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - can use row filter for partition"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk_1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "99"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - \"a\" is a PK col"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- set PUBLISH_VIA_PARTITION_ROOT to true and test row filter for partitioned"
  WHITESPACE "\n"
  COMMENT "-- table"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    L_PAREN "("
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "PUBLISH_VIA_PARTITION_ROOT"
    EQ "="
    LITERAL
      INT_NUMBER "1"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - can use row filter for partitioned table"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "a"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "99"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - \"a\" is a PK col"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - cannot set PUBLISH_VIA_PARTITION_ROOT to false if any row filter is"
  WHITESPACE "\n"
  COMMENT "-- used for partitioned table"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    L_PAREN "("
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "PUBLISH_VIA_PARTITION_ROOT"
    EQ "="
    LITERAL
      INT_NUMBER "0"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- remove partitioned table's row filter"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - we don't have row filter for partitioned table."
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    L_PAREN "("
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "PUBLISH_VIA_PARTITION_ROOT"
    EQ "="
    LITERAL
      INT_NUMBER "0"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- Now change the root filter to use a column \"b\""
  WHITESPACE "\n"
  COMMENT "-- (which is not in the replica identity)"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk_1"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "b"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "99"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - we don't have row filter for partitioned table."
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    L_PAREN "("
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "PUBLISH_VIA_PARTITION_ROOT"
    EQ "="
    LITERAL
      INT_NUMBER "0"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - \"b\" is not in REPLICA IDENTITY INDEX"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- set PUBLISH_VIA_PARTITION_ROOT to true"
  WHITESPACE "\n"
  COMMENT "-- can use row filter for partitioned table"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    L_PAREN "("
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "PUBLISH_VIA_PARTITION_ROOT"
    EQ "="
    LITERAL
      INT_NUMBER "1"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - can use row filter for partitioned table"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "b"
      WHITESPACE " "
      R_ANGLE ">"
      WHITESPACE " "
      LITERAL
        INT_NUMBER "99"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - \"b\" is not in REPLICA IDENTITY INDEX"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ======================================================"
  WHITESPACE "\n\n"
  COMMENT "-- ======================================================"
  WHITESPACE "\n"
  COMMENT "-- Tests with generated column"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  CREATE_TABLE
    COMMENT "-- stored"
    WHITESPACE "\n"
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_gencol"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "INT"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "INT"
        WHITESPACE " "
        GENERATED_CONSTRAINT
          GENERATED_KW "GENERATED"
          WHITESPACE " "
          ALWAYS_KW "ALWAYS"
          WHITESPACE " "
          AS_KW "AS"
          WHITESPACE " "
          L_PAREN "("
          BIN_EXPR
            NAME_REF
              IDENT "a"
            WHITESPACE " "
            PLUS "+"
            WHITESPACE " "
            LITERAL
              INT_NUMBER "1"
          R_PAREN ")"
          WHITESPACE " "
          STORED_KW "STORED"
        WHITESPACE " "
        NOT_NULL_CONSTRAINT
          NOT_KW "NOT"
          WHITESPACE " "
          NULL_KW "NULL"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_INDEX_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    UNIQUE_KW "UNIQUE"
    WHITESPACE " "
    INDEX_KW "INDEX"
    WHITESPACE " "
    NAME
      IDENT "testpub_gencol_idx"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_gencol"
    WHITESPACE " "
    INDEX_PARAMS
      L_PAREN "("
      NAME_REF
        IDENT "b"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_gencol"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      USING_KW "USING"
      WHITESPACE " "
      INDEX_KW "index"
      WHITESPACE " "
      NAME_REF
        IDENT "testpub_gencol_idx"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- error - generated column \"b\" must be published explicitly as it is"
  WHITESPACE "\n"
  COMMENT "-- part of the REPLICA IDENTITY index."
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "pub_gencol"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_gencol"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_gencol"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "100"
    WHITESPACE " "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        EQ "="
        WHITESPACE " "
        LITERAL
          INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- error - generated column \"b\" must be published explicitly as it is"
  WHITESPACE "\n"
  COMMENT "-- part of the REPLICA IDENTITY."
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_gencol"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      FULL_KW "FULL"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_gencol"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "100"
    WHITESPACE " "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        EQ "="
        WHITESPACE " "
        LITERAL
          INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_gencol"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok - generated column \"b\" is published explicitly"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "pub_gencol"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_gencol"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "with"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish_generated_columns"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      PATH_TYPE
        PATH
          PATH_SEGMENT
            NAME_REF
              STORED_KW "stored"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_gencol"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "100"
    WHITESPACE " "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        EQ "="
        WHITESPACE " "
        LITERAL
          INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_gencol"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_gencol"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  CREATE_TABLE
    COMMENT "-- virtual"
    WHITESPACE "\n"
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_gencol"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "INT"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "INT"
        WHITESPACE " "
        GENERATED_CONSTRAINT
          GENERATED_KW "GENERATED"
          WHITESPACE " "
          ALWAYS_KW "ALWAYS"
          WHITESPACE " "
          AS_KW "AS"
          WHITESPACE " "
          L_PAREN "("
          BIN_EXPR
            NAME_REF
              IDENT "a"
            WHITESPACE " "
            PLUS "+"
            WHITESPACE " "
            LITERAL
              INT_NUMBER "1"
          R_PAREN ")"
  WHITESPACE " "
  ERROR
    IDENT "VIRTUAL"
  ERROR
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "pub_gencol"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_gencol"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- error - generated column \"b\" must be published explicitly as it is"
  WHITESPACE "\n"
  COMMENT "-- part of the REPLICA IDENTITY."
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_gencol"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      FULL_KW "FULL"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_gencol"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "100"
    WHITESPACE " "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        EQ "="
        WHITESPACE " "
        LITERAL
          INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_gencol"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- error - \"stored\" setting does not affect virtual column"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "pub_gencol"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_gencol"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "with"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish_generated_columns"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      PATH_TYPE
        PATH
          PATH_SEGMENT
            NAME_REF
              STORED_KW "stored"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_gencol"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "100"
    WHITESPACE " "
    WHERE_CLAUSE
      WHERE_KW "WHERE"
      WHITESPACE " "
      BIN_EXPR
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        EQ "="
        WHITESPACE " "
        LITERAL
          INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_gencol"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_gencol"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ======================================================"
  WHITESPACE "\n\n"
  COMMENT "-- fail - duplicate tables are not allowed if that table has any column lists"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_dups"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl1"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      R_PAREN ")"
    COMMA ","
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl1"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        STRING "'insert'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_dups"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl1"
    COMMA ","
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl1"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      R_PAREN ")"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        STRING "'insert'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- test for column lists"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_fortable"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl1"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_fortable_insert"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        STRING "'insert'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_tbl5"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
        WHITESPACE " "
        PRIMARY_KEY_CONSTRAINT
          PRIMARY_KW "PRIMARY"
          WHITESPACE " "
          KEY_KW "KEY"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      COMMA ","
      WHITESPACE "\n    "
      COLUMN
        NAME_REF
          IDENT "d"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
        WHITESPACE " "
        GENERATED_CONSTRAINT
          GENERATED_KW "generated"
          WHITESPACE " "
          ALWAYS_KW "always"
          WHITESPACE " "
          AS_KW "as"
          WHITESPACE " "
          L_PAREN "("
          BIN_EXPR
            NAME_REF
              IDENT "a"
            WHITESPACE " "
            PLUS "+"
            WHITESPACE " "
            CALL_EXPR
              NAME_REF
                IDENT "length"
              ARG_LIST
                L_PAREN "("
                NAME_REF
                  IDENT "b"
                R_PAREN ")"
          R_PAREN ")"
          WHITESPACE " "
          STORED_KW "stored"
      COMMA ","
      WHITESPACE "\n    "
      COLUMN
        NAME_REF
          IDENT "e"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
        WHITESPACE " "
        GENERATED_CONSTRAINT
          GENERATED_KW "generated"
          WHITESPACE " "
          ALWAYS_KW "always"
          WHITESPACE " "
          AS_KW "as"
          WHITESPACE " "
          L_PAREN "("
          BIN_EXPR
            NAME_REF
              IDENT "a"
            WHITESPACE " "
            PLUS "+"
            WHITESPACE " "
            CALL_EXPR
              NAME_REF
                IDENT "length"
              ARG_LIST
                L_PAREN "("
                NAME_REF
                  IDENT "b"
                R_PAREN ")"
          R_PAREN ")"
  WHITESPACE " "
  ERROR
    IDENT "virtual"
  WHITESPACE "\n"
  ERROR
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- error: column \"x\" does not exist"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "x"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- error: replica identity \"a\" not included in the column list"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "b"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- error: system attributes \"ctid\" not allowed in column list"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "ctid"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl1"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "id"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "ctid"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- error: duplicates not allowed in column list"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "a"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "a"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    WHITESPACE " "
    DROP_COLUMN
      DROP_KW "DROP"
      WHITESPACE " "
      COLUMN_KW "COLUMN"
      WHITESPACE " "
      NAME_REF
        IDENT "c"
  SEMICOLON ";"
  WHITESPACE "\t\t"
  COMMENT "-- no dice"
  WHITESPACE "\n"
  COMMENT "-- ok: for insert-only publication, any column list is acceptable"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable_insert"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "b"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "/* not all replica identities are good enough */"
  WHITESPACE "\n"
  CREATE_INDEX_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    UNIQUE_KW "UNIQUE"
    WHITESPACE " "
    INDEX_KW "INDEX"
    WHITESPACE " "
    NAME
      IDENT "testpub_tbl5_b_key"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    WHITESPACE " "
    INDEX_PARAMS
      L_PAREN "("
      NAME_REF
        IDENT "b"
      COMMA ","
      WHITESPACE " "
      NAME_REF
        IDENT "c"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    WHITESPACE " "
    ALTER_COLUMN
      ALTER_KW "ALTER"
      WHITESPACE " "
      IDENT "b"
      WHITESPACE " "
      SET_NOT_NULL
        SET_KW "SET"
        WHITESPACE " "
        NOT_KW "NOT"
        WHITESPACE " "
        NULL_KW "NULL"
    COMMA ","
    WHITESPACE " "
    ALTER_COLUMN
      ALTER_KW "ALTER"
      WHITESPACE " "
      IDENT "c"
      WHITESPACE " "
      SET_NOT_NULL
        SET_KW "SET"
        WHITESPACE " "
        NOT_KW "NOT"
        WHITESPACE " "
        NULL_KW "NULL"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      USING_KW "USING"
      WHITESPACE " "
      INDEX_KW "INDEX"
      WHITESPACE " "
      NAME_REF
        IDENT "testpub_tbl5_b_key"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- error: replica identity (b,c) is not covered by column list (a, c)"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok: stored generated column \"d\" can be in the list too"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "d"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- error: virtual generated column \"e\" can't be in list"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "e"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- error: change the replica identity to \"b\", and column list to (a, c)"
  WHITESPACE "\n"
  COMMENT "-- then update fails, because (a, c) does not cover replica identity"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      USING_KW "USING"
      WHITESPACE " "
      INDEX_KW "INDEX"
      WHITESPACE " "
      NAME_REF
        IDENT "testpub_tbl5_b_key"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "/* But if upd/del are not published, it works OK */"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_table_ins"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        STRING "'insert, truncate'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_table_ins"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\t\t"
  COMMENT "-- ok"
  WHITESPACE "\n\n"
  CREATE_TABLE
    COMMENT "-- error: cannot work with deferrable primary keys"
    WHITESPACE "\n"
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_tbl5d"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
        WHITESPACE " "
        PRIMARY_KEY_CONSTRAINT
          PRIMARY_KW "PRIMARY"
          WHITESPACE " "
          KEY_KW "KEY"
          WHITESPACE " "
          CONSTRAINT_OPTION_LIST
            DEFERRABLE_CONSTRAINT_OPTION
              DEFERRABLE_KW "DEFERRABLE"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5d"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5d"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "/* but works fine with FULL replica identity */"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5d"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      FULL_KW "FULL"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5d"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5d"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  CREATE_TABLE
    COMMENT "-- tests with REPLICA IDENTITY FULL"
    WHITESPACE "\n"
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_tbl6"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl6"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      FULL_KW "FULL"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl6"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl6"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl6"
  SEMICOLON ";"
  WHITESPACE " "
  COMMENT "-- ok"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  CREATE_TABLE
    COMMENT "-- make sure changing the column list is propagated to the catalog"
    WHITESPACE "\n"
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_tbl7"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
        WHITESPACE " "
        PRIMARY_KEY_CONSTRAINT
          PRIMARY_KW "primary"
          WHITESPACE " "
          KEY_KW "key"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl7"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok: the column list is the same, we should skip this table (or at least not fail)"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl7"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok: the column list changes, make sure the catalog gets updated"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl7"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  CREATE_TABLE
    COMMENT "-- column list for partitioned tables has to cover replica identities for"
    WHITESPACE "\n"
    COMMENT "-- all child relations"
    WHITESPACE "\n"
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_tbl8"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      R_PAREN ")"
    WHITESPACE " "
    PARTITION_KW "PARTITION"
    WHITESPACE " "
    BY_KW "BY"
    WHITESPACE " "
    IDENT "HASH"
    WHITESPACE " "
    L_PAREN "("
    NAME_REF
      IDENT "a"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    COMMENT "-- first partition has replica identity \"a\""
    WHITESPACE "\n"
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_tbl8_0"
    WHITESPACE " "
    PARTITION_KW "PARTITION"
    WHITESPACE " "
    OF_KW "OF"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    VALUES_KW "VALUES"
    WHITESPACE " "
    WITH_KW "WITH"
    WHITESPACE " "
    L_PAREN "("
    IDENT "modulus"
    WHITESPACE " "
    INT_NUMBER "2"
    COMMA ","
    WHITESPACE " "
    IDENT "remainder"
    WHITESPACE " "
    INT_NUMBER "0"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8_0"
    WHITESPACE " "
    ADD_CONSTRAINT
      ADD_KW "ADD"
      WHITESPACE " "
      PRIMARY_KEY_CONSTRAINT
        PRIMARY_KW "PRIMARY"
        WHITESPACE " "
        KEY_KW "KEY"
        WHITESPACE " "
        COLUMN_LIST
          L_PAREN "("
          COLUMN
            NAME_REF
              IDENT "a"
          R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8_0"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      USING_KW "USING"
      WHITESPACE " "
      INDEX_KW "INDEX"
      WHITESPACE " "
      NAME_REF
        IDENT "testpub_tbl8_0_pkey"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    COMMENT "-- second partition has replica identity \"b\""
    WHITESPACE "\n"
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_tbl8_1"
    WHITESPACE " "
    PARTITION_KW "PARTITION"
    WHITESPACE " "
    OF_KW "OF"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    VALUES_KW "VALUES"
    WHITESPACE " "
    WITH_KW "WITH"
    WHITESPACE " "
    L_PAREN "("
    IDENT "modulus"
    WHITESPACE " "
    INT_NUMBER "2"
    COMMA ","
    WHITESPACE " "
    IDENT "remainder"
    WHITESPACE " "
    INT_NUMBER "1"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8_1"
    WHITESPACE " "
    ADD_CONSTRAINT
      ADD_KW "ADD"
      WHITESPACE " "
      PRIMARY_KEY_CONSTRAINT
        PRIMARY_KW "PRIMARY"
        WHITESPACE " "
        KEY_KW "KEY"
        WHITESPACE " "
        COLUMN_LIST
          L_PAREN "("
          COLUMN
            NAME_REF
              IDENT "b"
          R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8_1"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      USING_KW "USING"
      WHITESPACE " "
      INDEX_KW "INDEX"
      WHITESPACE " "
      NAME_REF
        IDENT "testpub_tbl8_1_pkey"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok: column list covers both \"a\" and \"b\""
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_col_list"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
      R_PAREN ")"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish_via_partition_root"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      LITERAL
        STRING "'true'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok: the same thing, but try plain ADD TABLE"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_col_list"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_col_list"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- failure: column list does not cover replica identity for the second partition"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_col_list"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_col_list"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_col_list"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- failure: one of the partitions has REPLICA IDENTITY FULL"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8_1"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      FULL_KW "FULL"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_col_list"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_col_list"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- add table and then try changing replica identity"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8_1"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      USING_KW "USING"
      WHITESPACE " "
      INDEX_KW "INDEX"
      WHITESPACE " "
      NAME_REF
        IDENT "testpub_tbl8_1_pkey"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_col_list"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- failure: replica identity full can't be used with a column list"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8_1"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      FULL_KW "FULL"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- failure: replica identity has to be covered by the column list"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8_1"
    WHITESPACE " "
    DROP_CONSTRAINT
      DROP_KW "DROP"
      WHITESPACE " "
      CONSTRAINT_KW "CONSTRAINT"
      WHITESPACE " "
      NAME_REF
        IDENT "testpub_tbl8_1_pkey"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8_1"
    WHITESPACE " "
    ADD_CONSTRAINT
      ADD_KW "ADD"
      WHITESPACE " "
      PRIMARY_KEY_CONSTRAINT
        PRIMARY_KW "PRIMARY"
        WHITESPACE " "
        KEY_KW "KEY"
        WHITESPACE " "
        COLUMN_LIST
          L_PAREN "("
          COLUMN
            NAME_REF
              IDENT "c"
          R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8_1"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      USING_KW "USING"
      WHITESPACE " "
      INDEX_KW "INDEX"
      WHITESPACE " "
      NAME_REF
        IDENT "testpub_tbl8_1_pkey"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  CREATE_TABLE
    COMMENT "-- column list for partitioned tables has to cover replica identities for"
    WHITESPACE "\n"
    COMMENT "-- all child relations"
    WHITESPACE "\n"
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_tbl8"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      R_PAREN ")"
    WHITESPACE " "
    PARTITION_KW "PARTITION"
    WHITESPACE " "
    BY_KW "BY"
    WHITESPACE " "
    IDENT "HASH"
    WHITESPACE " "
    L_PAREN "("
    NAME_REF
      IDENT "a"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_col_list"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    COMMENT "-- first partition has replica identity \"a\""
    WHITESPACE "\n"
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_tbl8_0"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8_0"
    WHITESPACE " "
    ADD_CONSTRAINT
      ADD_KW "ADD"
      WHITESPACE " "
      PRIMARY_KEY_CONSTRAINT
        PRIMARY_KW "PRIMARY"
        WHITESPACE " "
        KEY_KW "KEY"
        WHITESPACE " "
        COLUMN_LIST
          L_PAREN "("
          COLUMN
            NAME_REF
              IDENT "a"
          R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8_0"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      USING_KW "USING"
      WHITESPACE " "
      INDEX_KW "INDEX"
      WHITESPACE " "
      NAME_REF
        IDENT "testpub_tbl8_0_pkey"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    COMMENT "-- second partition has replica identity \"b\""
    WHITESPACE "\n"
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_tbl8_1"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8_1"
    WHITESPACE " "
    ADD_CONSTRAINT
      ADD_KW "ADD"
      WHITESPACE " "
      PRIMARY_KEY_CONSTRAINT
        PRIMARY_KW "PRIMARY"
        WHITESPACE " "
        KEY_KW "KEY"
        WHITESPACE " "
        COLUMN_LIST
          L_PAREN "("
          COLUMN
            NAME_REF
              IDENT "c"
          R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8_1"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      USING_KW "USING"
      WHITESPACE " "
      INDEX_KW "INDEX"
      WHITESPACE " "
      NAME_REF
        IDENT "testpub_tbl8_1_pkey"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok: attaching first partition works, because (a) is in column list"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
    WHITESPACE " "
    ATTACH_PARTITION
      ATTACH_KW "ATTACH"
      WHITESPACE " "
      PARTITION_KW "PARTITION"
      WHITESPACE " "
      NAME_REF
        IDENT "testpub_tbl8_0"
      WHITESPACE " "
      FOR_KW "FOR"
      WHITESPACE " "
      VALUES_KW "VALUES"
      WHITESPACE " "
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      IDENT "modulus"
      WHITESPACE " "
      INT_NUMBER "2"
      COMMA ","
      WHITESPACE " "
      IDENT "remainder"
      WHITESPACE " "
      INT_NUMBER "0"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- failure: second partition has replica identity (c), which si not in column list"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
    WHITESPACE " "
    ATTACH_PARTITION
      ATTACH_KW "ATTACH"
      WHITESPACE " "
      PARTITION_KW "PARTITION"
      WHITESPACE " "
      NAME_REF
        IDENT "testpub_tbl8_1"
      WHITESPACE " "
      FOR_KW "FOR"
      WHITESPACE " "
      VALUES_KW "VALUES"
      WHITESPACE " "
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      IDENT "modulus"
      WHITESPACE " "
      INT_NUMBER "2"
      COMMA ","
      WHITESPACE " "
      IDENT "remainder"
      WHITESPACE " "
      INT_NUMBER "1"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- failure: changing replica identity to FULL for partition fails, because"
  WHITESPACE "\n"
  COMMENT "-- of the column list on the parent"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8_0"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      FULL_KW "FULL"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- test that using column list for table is disallowed if any schemas are"
  WHITESPACE "\n"
  COMMENT "-- part of the publication"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- failure - cannot use column list and schema together"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_tbl9"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "public"
    COMMA ","
  WHITESPACE " "
  SELECT
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "public"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl7"
  ERROR
    L_PAREN "("
  ERROR
    IDENT "a"
  ERROR
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - only publish schema"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_tbl9"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "public"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- failure - add a table with column list when there is already a schema in the"
  WHITESPACE "\n"
  COMMENT "-- publication"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_tbl9"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "public"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl7"
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - only publish table with column list"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_tbl9"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "public"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl7"
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- failure - specify a schema when there is already a column list in the"
  WHITESPACE "\n"
  COMMENT "-- publication"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_tbl9"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "public"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- failure - cannot SET column list and schema together"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_tbl9"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "public"
    COMMA ","
  WHITESPACE " "
  SELECT
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "public"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl7"
  ERROR
    L_PAREN "("
  ERROR
    IDENT "a"
  ERROR
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - drop table"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_tbl9"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "public"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl7"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- failure - cannot ADD column list and schema together"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_tbl9"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "public"
    COMMA ","
  WHITESPACE " "
  SELECT
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "public"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl7"
  ERROR
    L_PAREN "("
  ERROR
    IDENT "a"
  ERROR
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl5"
    COMMA ","
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl6"
    COMMA ","
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl7"
    COMMA ","
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8"
    COMMA ","
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl8_1"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_table_ins"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable_insert"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_col_list"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_tbl9"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ======================================================"
  WHITESPACE "\n\n"
  COMMENT "-- Test combination of column list and row filter"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_both_filters"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_tbl_both_filters"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      PRIMARY_KEY_CONSTRAINT
        PRIMARY_KW "PRIMARY"
        WHITESPACE " "
        KEY_KW "KEY"
        WHITESPACE " "
        COLUMN_LIST
          L_PAREN "("
          COLUMN
            NAME_REF
              IDENT "a"
          COMMA ","
          COLUMN
            NAME_REF
              IDENT "c"
          R_PAREN ")"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl_both_filters"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      USING_KW "USING"
      WHITESPACE " "
      INDEX_KW "INDEX"
      WHITESPACE " "
      NAME_REF
        IDENT "testpub_tbl_both_filters_pkey"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_both_filters"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl_both_filters"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      COLUMN
        NAME_REF
          IDENT "c"
      R_PAREN ")"
    WHITESPACE " "
    WHERE_KW "WHERE"
    WHITESPACE " "
    L_PAREN "("
    BIN_EXPR
      NAME_REF
        IDENT "c"
      WHITESPACE " "
      NEQ "!="
      WHITESPACE " "
      LITERAL
        INT_NUMBER "1"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl_both_filters"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_both_filters"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ======================================================"
  WHITESPACE "\n\n"
  CREATE_TABLE
    COMMENT "-- More column list tests for validating column references"
    WHITESPACE "\n"
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "rf_tbl_abcd_nopk"
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "d"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "rf_tbl_abcd_pk"
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "d"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      PRIMARY_KEY_CONSTRAINT
        PRIMARY_KW "PRIMARY"
        WHITESPACE " "
        KEY_KW "KEY"
        COLUMN_LIST
          L_PAREN "("
          COLUMN
            NAME_REF
              IDENT "a"
          COMMA ","
          COLUMN
            NAME_REF
              IDENT "b"
          R_PAREN ")"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "rf_tbl_abcd_part_pk"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
        WHITESPACE " "
        PRIMARY_KEY_CONSTRAINT
          PRIMARY_KW "PRIMARY"
          WHITESPACE " "
          KEY_KW "KEY"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      R_PAREN ")"
    WHITESPACE " "
    PARTITION_KW "PARTITION"
    WHITESPACE " "
    BY_KW "by"
    WHITESPACE " "
    RANGE_KW "RANGE"
    WHITESPACE " "
    L_PAREN "("
    NAME_REF
      IDENT "a"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "rf_tbl_abcd_part_pk_1"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "b"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
        WHITESPACE " "
        PRIMARY_KEY_CONSTRAINT
          PRIMARY_KW "PRIMARY"
          WHITESPACE " "
          KEY_KW "KEY"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
    WHITESPACE " "
    ATTACH_PARTITION
      ATTACH_KW "ATTACH"
      WHITESPACE " "
      PARTITION_KW "PARTITION"
      WHITESPACE " "
      NAME_REF
        IDENT "rf_tbl_abcd_part_pk_1"
      WHITESPACE " "
      FOR_KW "FOR"
      WHITESPACE " "
      VALUES_KW "VALUES"
      WHITESPACE " "
      FROM_KW "FROM"
      WHITESPACE " "
      L_PAREN "("
      LITERAL
        INT_NUMBER "1"
      R_PAREN ")"
      WHITESPACE " "
      TO_KW "TO"
      WHITESPACE " "
      L_PAREN "("
      LITERAL
        INT_NUMBER "10"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Case 1. REPLICA IDENTITY DEFAULT (means use primary key or nothing)"
  WHITESPACE "\n\n"
  COMMENT "-- 1a. REPLICA IDENTITY is DEFAULT and table has a PK."
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub6"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - (a,b) covers all PK cols"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - (a,b,c) covers all PK cols"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - \"b\" is missing from the column list"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "b"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - \"a\" is missing from the column list"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- 1b. REPLICA IDENTITY is DEFAULT and table has no PK"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - there's no replica identity, so any column list works"
  WHITESPACE "\n"
  COMMENT "-- note: it fails anyway, just a bit later because UPDATE requires RI"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Case 2. REPLICA IDENTITY FULL"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      FULL_KW "FULL"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      FULL_KW "FULL"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "c"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - with REPLICA IDENTITY FULL no column list is allowed"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "d"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - with REPLICA IDENTITY FULL no column list is allowed"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Case 3. REPLICA IDENTITY NOTHING"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      NOTHING_KW "NOTHING"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      NOTHING_KW "NOTHING"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - REPLICA IDENTITY NOTHING means all column lists are valid"
  WHITESPACE "\n"
  COMMENT "-- it still fails later because without RI we can't replicate updates"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "b"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "c"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "d"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - REPLICA IDENTITY NOTHING means all column lists are valid"
  WHITESPACE "\n"
  COMMENT "-- it still fails later because without RI we can't replicate updates"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "d"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - REPLICA IDENTITY NOTHING means all column lists are valid"
  WHITESPACE "\n"
  COMMENT "-- it still fails later because without RI we can't replicate updates"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Case 4. REPLICA IDENTITY INDEX"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    ALTER_COLUMN
      ALTER_KW "ALTER"
      WHITESPACE " "
      COLUMN_KW "COLUMN"
      WHITESPACE " "
      IDENT "c"
      WHITESPACE " "
      SET_NOT_NULL
        SET_KW "SET"
        WHITESPACE " "
        NOT_KW "NOT"
        WHITESPACE " "
        NULL_KW "NULL"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_INDEX_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    UNIQUE_KW "UNIQUE"
    WHITESPACE " "
    INDEX_KW "INDEX"
    WHITESPACE " "
    NAME
      IDENT "idx_abcd_pk_c"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    INDEX_PARAMS
      L_PAREN "("
      NAME_REF
        IDENT "c"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      USING_KW "USING"
      WHITESPACE " "
      INDEX_KW "INDEX"
      WHITESPACE " "
      NAME_REF
        IDENT "idx_abcd_pk_c"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    ALTER_COLUMN
      ALTER_KW "ALTER"
      WHITESPACE " "
      COLUMN_KW "COLUMN"
      WHITESPACE " "
      IDENT "c"
      WHITESPACE " "
      SET_NOT_NULL
        SET_KW "SET"
        WHITESPACE " "
        NOT_KW "NOT"
        WHITESPACE " "
        NULL_KW "NULL"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_INDEX_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    UNIQUE_KW "UNIQUE"
    WHITESPACE " "
    INDEX_KW "INDEX"
    WHITESPACE " "
    NAME
      IDENT "idx_abcd_nopk_c"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    INDEX_PARAMS
      L_PAREN "("
      NAME_REF
        IDENT "c"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    REPLICA_IDENTITY
      REPLICA_KW "REPLICA"
      WHITESPACE " "
      IDENTITY_KW "IDENTITY"
      WHITESPACE " "
      USING_KW "USING"
      WHITESPACE " "
      INDEX_KW "INDEX"
      WHITESPACE " "
      NAME_REF
        IDENT "idx_abcd_nopk_c"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - column list \"a\" does not cover the REPLICA IDENTITY INDEX on \"c\""
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "c"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - column list \"c\" does cover the REPLICA IDENTITY INDEX on \"c\""
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - column list \"a\" does not cover the REPLICA IDENTITY INDEX on \"c\""
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "c"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - column list \"c\" does cover the REPLICA IDENTITY INDEX on \"c\""
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Tests for partitioned table"
  WHITESPACE "\n\n"
  COMMENT "-- set PUBLISH_VIA_PARTITION_ROOT to false and test column list for partitioned"
  WHITESPACE "\n"
  COMMENT "-- table"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    L_PAREN "("
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "PUBLISH_VIA_PARTITION_ROOT"
    EQ "="
    LITERAL
      INT_NUMBER "0"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - cannot use column list for partitioned table"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - can use column list for partition"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk_1"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - \"a\" is a PK col"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- set PUBLISH_VIA_PARTITION_ROOT to true and test column list for partitioned"
  WHITESPACE "\n"
  COMMENT "-- table"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    L_PAREN "("
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "PUBLISH_VIA_PARTITION_ROOT"
    EQ "="
    LITERAL
      INT_NUMBER "1"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - can use column list for partitioned table"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - \"a\" is a PK col"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - cannot set PUBLISH_VIA_PARTITION_ROOT to false if any column list is"
  WHITESPACE "\n"
  COMMENT "-- used for partitioned table"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    L_PAREN "("
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "PUBLISH_VIA_PARTITION_ROOT"
    EQ "="
    LITERAL
      INT_NUMBER "0"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- remove partitioned table's column list"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - we don't have column list for partitioned table."
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    L_PAREN "("
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "PUBLISH_VIA_PARTITION_ROOT"
    EQ "="
    LITERAL
      INT_NUMBER "0"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- Now change the root column list to use a column \"b\""
  WHITESPACE "\n"
  COMMENT "-- (which is not in the replica identity)"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk_1"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "b"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - we don't have column list for partitioned table."
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    L_PAREN "("
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "PUBLISH_VIA_PARTITION_ROOT"
    EQ "="
    LITERAL
      INT_NUMBER "0"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - \"b\" is not in REPLICA IDENTITY INDEX"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- set PUBLISH_VIA_PARTITION_ROOT to true"
  WHITESPACE "\n"
  COMMENT "-- can use column list for partitioned table"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    L_PAREN "("
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "PUBLISH_VIA_PARTITION_ROOT"
    EQ "="
    LITERAL
      INT_NUMBER "1"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ok - can use column list for partitioned table"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
    WHITESPACE " "
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "b"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - \"b\" is not in REPLICA IDENTITY INDEX"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_pk"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_nopk"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "rf_tbl_abcd_part_pk"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ======================================================"
  WHITESPACE "\n\n"
  COMMENT "-- Test cache invalidation FOR ALL TABLES publication"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_tbl4"
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  INSERT_STMT
    INSERT_KW "INSERT"
    WHITESPACE " "
    INTO_KW "INTO"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl4"
    WHITESPACE " "
    SELECT
      VALUES_KW "values"
      L_PAREN "("
      LITERAL
        INT_NUMBER "1"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl4"
    WHITESPACE " "
    SET_KW "set"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "2"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_foralltables"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    ALL_KW "ALL"
    WHITESPACE " "
    TABLES_KW "TABLES"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail missing REPLICA IDENTITY"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl4"
    WHITESPACE " "
    SET_KW "set"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "3"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_foralltables"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- should pass after dropping the publication"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl4"
    WHITESPACE " "
    SET_KW "set"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "3"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl4"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail - view"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_fortbl"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_view"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TEMPORARY_KW "TEMPORARY"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_temptbl"
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - temporary table"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_fortemptbl"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_temptbl"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_temptbl"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    UNLOGGED_KW "UNLOGGED"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "testpub_unloggedtbl"
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - unlogged table"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_forunloggedtbl"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_unloggedtbl"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_unloggedtbl"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail - system table"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_forsystemtbl"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "pg_publication"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_fortbl"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl1"
    COMMA ","
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_nopk"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - already added"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortbl"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl1"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - already added"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_fortbl"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl1"
  SEMICOLON ";"
  WHITESPACE "\n\n\n"
  COMMENT "-- fail - view"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_default"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_view"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_default"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_default"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl1"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_default"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_nopk"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_ins_trunct"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_nopk"
    COMMA ","
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl1"
  SEMICOLON ";"
  WHITESPACE "\n\n\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_default"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl1"
    COMMA ","
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_nopk"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - nonexistent"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_default"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_nopk"
  SEMICOLON ";"
  WHITESPACE "\n\n\n"
  CREATE_TABLE
    COMMENT "-- verify relation cache invalidation when a primary key is added using"
    WHITESPACE "\n"
    COMMENT "-- an existing index"
    WHITESPACE "\n"
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME
          IDENT "testpub_addpk"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "id"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
        WHITESPACE " "
        NOT_NULL_CONSTRAINT
          NOT_KW "not"
          WHITESPACE " "
          NULL_KW "null"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          DATA_KW "data"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_default"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_addpk"
  SEMICOLON ";"
  WHITESPACE "\n"
  INSERT_STMT
    INSERT_KW "INSERT"
    WHITESPACE " "
    INTO_KW "INTO"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_addpk"
    WHITESPACE " "
    SELECT
      VALUES_KW "VALUES"
      L_PAREN "("
      LITERAL
        INT_NUMBER "1"
      COMMA ","
      WHITESPACE " "
      LITERAL
        INT_NUMBER "11"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_INDEX_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    UNIQUE_KW "UNIQUE"
    WHITESPACE " "
    INDEX_KW "INDEX"
    WHITESPACE " "
    NAME
      IDENT "testpub_addpk_id_idx"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_addpk"
    INDEX_PARAMS
      L_PAREN "("
      NAME_REF
        IDENT "id"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail:"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_addpk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "id"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "2"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_addpk"
    WHITESPACE " "
    ADD_CONSTRAINT
      ADD_KW "ADD"
      WHITESPACE " "
      PRIMARY_KEY_CONSTRAINT
        PRIMARY_KW "PRIMARY"
        WHITESPACE " "
        KEY_KW "KEY"
        WHITESPACE " "
        USING_INDEX
          USING_KW "USING"
          WHITESPACE " "
          INDEX_KW "INDEX"
          WHITESPACE " "
          NAME_REF
            IDENT "testpub_addpk_id_idx"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- now it should work:"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_addpk"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "id"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "2"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_addpk"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- permissions"
  WHITESPACE "\n"
  SET_ROLE_STMT
    SET_KW "SET"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_publication_user2"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub2"
  SEMICOLON ";"
  WHITESPACE "  "
  COMMENT "-- fail"
  WHITESPACE "\n\n"
  SET_ROLE_STMT
    SET_KW "SET"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_publication_user"
  SEMICOLON ";"
  WHITESPACE "\n"
  GRANT_STMT
    GRANT_KW "GRANT"
    WHITESPACE " "
    CREATE_KW "CREATE"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    DATABASE_KW "DATABASE"
    WHITESPACE " "
    NAME_REF
      IDENT "regression"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    IDENT "regress_publication_user2"
  SEMICOLON ";"
  WHITESPACE "\n"
  SET_ROLE_STMT
    SET_KW "SET"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_publication_user2"
  SEMICOLON ";"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub2"
  SEMICOLON ";"
  WHITESPACE "  "
  COMMENT "-- ok"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub3"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test"
  SEMICOLON ";"
  WHITESPACE "  "
  COMMENT "-- fail"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub3"
  SEMICOLON ";"
  WHITESPACE "  "
  COMMENT "-- ok"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub2"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl1"
  SEMICOLON ";"
  WHITESPACE "  "
  COMMENT "-- fail"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub3"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test"
  SEMICOLON ";"
  WHITESPACE "  "
  COMMENT "-- fail"
  WHITESPACE "\n\n"
  SET_ROLE_STMT
    SET_KW "SET"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_publication_user"
  SEMICOLON ";"
  WHITESPACE "\n"
  GRANT_STMT
    GRANT_KW "GRANT"
    WHITESPACE " "
    IDENT "regress_publication_user"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    IDENT "regress_publication_user2"
  SEMICOLON ";"
  WHITESPACE "\n"
  SET_ROLE_STMT
    SET_KW "SET"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_publication_user2"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub2"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl1"
  SEMICOLON ";"
  WHITESPACE "  "
  COMMENT "-- ok"
  WHITESPACE "\n\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub2"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub3"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  SET_ROLE_STMT
    SET_KW "SET"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_publication_user"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_publication_user3"
  SEMICOLON ";"
  WHITESPACE "\n"
  GRANT_STMT
    GRANT_KW "GRANT"
    WHITESPACE " "
    IDENT "regress_publication_user2"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    IDENT "regress_publication_user3"
  SEMICOLON ";"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub4"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub4"
    WHITESPACE " "
    OWNER_KW "OWNER"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    IDENT "regress_publication_user3"
  SEMICOLON ";"
  WHITESPACE "\n"
  SET_ROLE_STMT
    SET_KW "SET"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_publication_user3"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- fail - new owner must be superuser"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub4"
    WHITESPACE " "
    OWNER_KW "owner"
    WHITESPACE " "
    TO_KW "to"
    WHITESPACE " "
    IDENT "regress_publication_user2"
  SEMICOLON ";"
  WHITESPACE " "
  COMMENT "-- fail"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub4"
    WHITESPACE " "
    OWNER_KW "owner"
    WHITESPACE " "
    TO_KW "to"
    WHITESPACE " "
    IDENT "regress_publication_user"
  SEMICOLON ";"
  WHITESPACE " "
  COMMENT "-- ok"
  WHITESPACE "\n\n"
  SET_ROLE_STMT
    SET_KW "SET"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_publication_user"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub4"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_publication_user3"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  REVOKE_STMT
    REVOKE_KW "REVOKE"
    WHITESPACE " "
    CREATE_KW "CREATE"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    DATABASE_KW "DATABASE"
    WHITESPACE " "
    NAME_REF
      IDENT "regression"
    WHITESPACE " "
    FROM_KW "FROM"
    WHITESPACE " "
    IDENT "regress_publication_user2"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_parted"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_tbl1"
  SEMICOLON ";"
  WHITESPACE "\n\n\n"
  COMMENT "-- fail - must be owner of publication"
  WHITESPACE "\n"
  SET_ROLE_STMT
    SET_KW "SET"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_publication_user_dummy"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_default"
    WHITESPACE " "
    RENAME_KW "RENAME"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    NAME
      IDENT "testpub_dummy"
  SEMICOLON ";"
  WHITESPACE "\n"
  SET_ROLE_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    ROLE_KW "ROLE"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_default"
    WHITESPACE " "
    RENAME_KW "RENAME"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    NAME
      IDENT "testpub_foo"
  SEMICOLON ";"
  WHITESPACE "\n\n\n"
  COMMENT "-- rename back to keep the rest simple"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_foo"
    WHITESPACE " "
    RENAME_KW "RENAME"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    NAME
      IDENT "testpub_default"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_default"
    WHITESPACE " "
    OWNER_KW "OWNER"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    IDENT "regress_publication_user2"
  SEMICOLON ";"
  WHITESPACE "\n\n\n"
  COMMENT "-- adding schemas and tables"
  WHITESPACE "\n"
  CREATE_SCHEMA_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "pub_test1"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_SCHEMA_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "pub_test2"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_SCHEMA_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "pub_test3"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_SCHEMA_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "\"CURRENT_SCHEMA\""
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test1"
      DOT "."
      PATH_SEGMENT
        NAME
          IDENT "tbl"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "id"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          DATA_KW "data"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test1"
      DOT "."
      PATH_SEGMENT
        NAME
          IDENT "tbl1"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "id"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                IDENT "serial"
        WHITESPACE " "
        PRIMARY_KEY_CONSTRAINT
          PRIMARY_KW "primary"
          WHITESPACE " "
          KEY_KW "key"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          DATA_KW "data"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test2"
      DOT "."
      PATH_SEGMENT
        NAME
          IDENT "tbl1"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "id"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                IDENT "serial"
        WHITESPACE " "
        PRIMARY_KEY_CONSTRAINT
          PRIMARY_KW "primary"
          WHITESPACE " "
          KEY_KW "key"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          DATA_KW "data"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                TEXT_KW "text"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "\"CURRENT_SCHEMA\""
      DOT "."
      PATH_SEGMENT
        NAME
          IDENT "\"CURRENT_SCHEMA\""
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "id"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- suppress warning that depends on wal_level"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub1_forschema"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub2_forschema"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test1"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test2"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test3"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- check create publication on CURRENT_SCHEMA"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub3_forschema"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    CURRENT_SCHEMA_KW "CURRENT_SCHEMA"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub4_forschema"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "\"CURRENT_SCHEMA\""
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub5_forschema"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    CURRENT_SCHEMA_KW "CURRENT_SCHEMA"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "\"CURRENT_SCHEMA\""
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub6_forschema"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "\"CURRENT_SCHEMA\""
    COMMA ","
    WHITESPACE " "
    CURRENT_SCHEMA_KW "CURRENT_SCHEMA"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_fortable"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "\"CURRENT_SCHEMA\""
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "\"CURRENT_SCHEMA\""
  SEMICOLON ";"
  WHITESPACE "\n\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n\n\n"
  COMMENT "-- check create publication on CURRENT_SCHEMA where search_path is not set"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "SEARCH_PATH"
    EQ "="
    LITERAL
      STRING "''"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_forschema"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    CURRENT_SCHEMA_KW "CURRENT_SCHEMA"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "SEARCH_PATH"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- check create publication on CURRENT_SCHEMA where TABLE/TABLES in SCHEMA"
  WHITESPACE "\n"
  COMMENT "-- is not specified"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_forschema1"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    CURRENT_SCHEMA_KW "CURRENT_SCHEMA"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- check create publication on CURRENT_SCHEMA along with FOR TABLE"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_forschema1"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          CURRENT_SCHEMA_KW "CURRENT_SCHEMA"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- check create publication on a schema that does not exist"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_forschema"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "non_existent_schema"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- check create publication on a system schema"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_forschema"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pg_catalog"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- check create publication on an object which is not schema"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub1_forschema1"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_view"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- dropping the schema should reflect the change in publication"
  WHITESPACE "\n"
  DROP_SCHEMA_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "pub_test3"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- renaming the schema should reflect the change in publication"
  WHITESPACE "\n"
  ALTER_SCHEMA_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test1"
    WHITESPACE " "
    RENAME_KW "RENAME"
    WHITESPACE " "
    TO_KW "to"
    WHITESPACE " "
    NAME
      IDENT "pub_test1_renamed"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  ALTER_SCHEMA_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test1_renamed"
    WHITESPACE " "
    RENAME_KW "RENAME"
    WHITESPACE " "
    TO_KW "to"
    WHITESPACE " "
    NAME
      IDENT "pub_test1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- alter publication add schema"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub1_forschema"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test2"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- add non existent schema"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub1_forschema"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "non_existent_schema"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- add a schema which is already added to the publication"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub1_forschema"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- alter publication drop schema"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub1_forschema"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test2"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- drop schema that is not present in the publication"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub1_forschema"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test2"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- drop a schema that does not exist in the system"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub1_forschema"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "non_existent_schema"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- drop all schemas"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub1_forschema"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- alter publication set multiple schema"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub1_forschema"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test1"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test2"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- alter publication set non-existent schema"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub1_forschema"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "non_existent_schema"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- alter publication set it duplicate schemas should set the schemas after"
  WHITESPACE "\n"
  COMMENT "-- removing the duplicate schemas"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub1_forschema"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test1"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Verify that it fails to add a schema with a column specification"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub1_forschema"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "foo"
  WHITESPACE " "
  ERROR
    L_PAREN "("
  ERROR
    IDENT "a"
  ERROR
    COMMA ","
  WHITESPACE " "
  ERROR
    IDENT "b"
  ERROR
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub1_forschema"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "foo"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "bar"
  WHITESPACE " "
  ERROR
    L_PAREN "("
  ERROR
    IDENT "a"
  ERROR
    COMMA ","
  WHITESPACE " "
  ERROR
    IDENT "b"
  ERROR
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- cleanup pub_test1 schema for invalidation tests"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub2_forschema"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test1"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub3_forschema"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "testpub4_forschema"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "testpub5_forschema"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "testpub6_forschema"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_SCHEMA_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "\"CURRENT_SCHEMA\""
    WHITESPACE " "
    CASCADE_KW "CASCADE"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- verify relation cache invalidations through update statement for the"
  WHITESPACE "\n"
  COMMENT "-- default REPLICA IDENTITY on the relation, if schema is part of the"
  WHITESPACE "\n"
  COMMENT "-- publication then update will fail because relation's relreplident"
  WHITESPACE "\n"
  COMMENT "-- option will be set, if schema is not part of the publication then update"
  WHITESPACE "\n"
  COMMENT "-- will be successful."
  WHITESPACE "\n"
  INSERT_STMT
    INSERT_KW "INSERT"
    WHITESPACE " "
    INTO_KW "INTO"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test1"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "tbl"
    WHITESPACE " "
    SELECT
      VALUES_KW "VALUES"
      L_PAREN "("
      LITERAL
        INT_NUMBER "1"
      COMMA ","
      WHITESPACE " "
      LITERAL
        STRING "'test'"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test1"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "tbl"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "id"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "2"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub1_forschema"
    WHITESPACE " "
    DROP_KW "DROP"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- success"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test1"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "tbl"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "id"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "2"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub1_forschema"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test1"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "tbl"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "id"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "2"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- verify invalidation of partition table having parent and child tables in"
  WHITESPACE "\n"
  COMMENT "-- different schema"
  WHITESPACE "\n"
  CREATE_SCHEMA_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "pub_testpart1"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_SCHEMA_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "pub_testpart2"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_testpart1"
      DOT "."
      PATH_SEGMENT
        NAME
          IDENT "parent1"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      R_PAREN ")"
    WHITESPACE " "
    PARTITION_KW "partition"
    WHITESPACE " "
    BY_KW "by"
    WHITESPACE " "
    IDENT "list"
    WHITESPACE " "
    L_PAREN "("
    NAME_REF
      IDENT "a"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_testpart2"
      DOT "."
      PATH_SEGMENT
        NAME
          IDENT "child_parent1"
    WHITESPACE " "
    PARTITION_KW "partition"
    WHITESPACE " "
    OF_KW "of"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_testpart1"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "parent1"
    WHITESPACE " "
    FOR_KW "for"
    WHITESPACE " "
    VALUES_KW "values"
    WHITESPACE " "
    IN_KW "in"
    WHITESPACE " "
    L_PAREN "("
    LITERAL
      INT_NUMBER "1"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  INSERT_STMT
    INSERT_KW "INSERT"
    WHITESPACE " "
    INTO_KW "INTO"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_testpart2"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "child_parent1"
    WHITESPACE " "
    SELECT
      VALUES_KW "values"
      L_PAREN "("
      LITERAL
        INT_NUMBER "1"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_testpart2"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "child_parent1"
    WHITESPACE " "
    SET_KW "set"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpubpart_forschema"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_testpart1"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_testpart1"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "parent1"
    WHITESPACE " "
    SET_KW "set"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_testpart2"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "child_parent1"
    WHITESPACE " "
    SET_KW "set"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpubpart_forschema"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  CREATE_TABLE
    COMMENT "-- verify invalidation of partition tables for schema publication that has"
    WHITESPACE "\n"
    COMMENT "-- parent and child tables of different partition hierarchies"
    WHITESPACE "\n"
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_testpart2"
      DOT "."
      PATH_SEGMENT
        NAME
          IDENT "parent2"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      R_PAREN ")"
    WHITESPACE " "
    PARTITION_KW "partition"
    WHITESPACE " "
    BY_KW "by"
    WHITESPACE " "
    IDENT "list"
    WHITESPACE " "
    L_PAREN "("
    NAME_REF
      IDENT "a"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_testpart1"
      DOT "."
      PATH_SEGMENT
        NAME
          IDENT "child_parent2"
    WHITESPACE " "
    PARTITION_KW "partition"
    WHITESPACE " "
    OF_KW "of"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_testpart2"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "parent2"
    WHITESPACE " "
    FOR_KW "for"
    WHITESPACE " "
    VALUES_KW "values"
    WHITESPACE " "
    IN_KW "in"
    WHITESPACE " "
    L_PAREN "("
    LITERAL
      INT_NUMBER "1"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  INSERT_STMT
    INSERT_KW "INSERT"
    WHITESPACE " "
    INTO_KW "INTO"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_testpart1"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "child_parent2"
    WHITESPACE " "
    SELECT
      VALUES_KW "values"
      L_PAREN "("
      LITERAL
        INT_NUMBER "1"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_testpart1"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "child_parent2"
    WHITESPACE " "
    SET_KW "set"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpubpart_forschema"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_testpart2"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_testpart2"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "child_parent1"
    WHITESPACE " "
    SET_KW "set"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_testpart2"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "parent2"
    WHITESPACE " "
    SET_KW "set"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n"
  UPDATE_STMT
    UPDATE_KW "UPDATE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_testpart1"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "child_parent2"
    WHITESPACE " "
    SET_KW "set"
    WHITESPACE " "
    NAME_REF
      IDENT "a"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      INT_NUMBER "1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- alter publication set 'TABLES IN SCHEMA' on an empty publication."
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub3_forschema"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub3_forschema"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- create publication including both 'FOR TABLE' and 'FOR TABLES IN SCHEMA'"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_forschema_fortable"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test1"
    COMMA ","
  WHITESPACE " "
  SELECT
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test2"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "tbl1"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_fortable_forschema"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test2"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "tbl1"
    COMMA ","
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "pub_test1"
  SEMICOLON ";"
  WHITESPACE "\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n\n\n"
  COMMENT "-- fail specifying table without any of 'FOR TABLES IN SCHEMA' or"
  WHITESPACE "\n"
  COMMENT "--'FOR TABLE' or 'FOR ALL TABLES'"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "testpub_error"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "pub_test2"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "tbl1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_VIEW_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    VIEW_KW "VIEW"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "testpub_view"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_default"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_ins_trunct"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortbl"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub1_forschema"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub2_forschema"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub3_forschema"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_forschema_fortable"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpub_fortable_forschema"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "testpubpart_forschema"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_SCHEMA_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "pub_test"
    WHITESPACE " "
    CASCADE_KW "CASCADE"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_SCHEMA_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "pub_test1"
    WHITESPACE " "
    CASCADE_KW "CASCADE"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_SCHEMA_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "pub_test2"
    WHITESPACE " "
    CASCADE_KW "CASCADE"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_SCHEMA_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "pub_testpart1"
    WHITESPACE " "
    CASCADE_KW "CASCADE"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_SCHEMA_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "pub_testpart2"
    WHITESPACE " "
    CASCADE_KW "CASCADE"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Test the list of partitions published with or without"
  WHITESPACE "\n"
  COMMENT "-- 'PUBLISH_VIA_PARTITION_ROOT' parameter"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_SCHEMA_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "sch1"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_SCHEMA_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "sch2"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "sch1"
      DOT "."
      PATH_SEGMENT
        NAME
          IDENT "tbl1"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      R_PAREN ")"
    WHITESPACE " "
    PARTITION_KW "PARTITION"
    WHITESPACE " "
    BY_KW "BY"
    WHITESPACE " "
    RANGE_KW "RANGE"
    L_PAREN "("
    NAME_REF
      IDENT "a"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "sch2"
      DOT "."
      PATH_SEGMENT
        NAME
          IDENT "tbl1_part1"
    WHITESPACE " "
    PARTITION_KW "PARTITION"
    WHITESPACE " "
    OF_KW "OF"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "sch1"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "tbl1"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    VALUES_KW "VALUES"
    WHITESPACE " "
    FROM_KW "FROM"
    WHITESPACE " "
    L_PAREN "("
    LITERAL
      INT_NUMBER "1"
    R_PAREN ")"
    WHITESPACE " "
    TO_KW "to"
    WHITESPACE " "
    L_PAREN "("
    LITERAL
      INT_NUMBER "10"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- Schema publication that does not include the schema that has the parent table"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "pub"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "sch2"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "PUBLISH_VIA_PARTITION_ROOT"
      EQ "="
      LITERAL
        INT_NUMBER "1"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          STAR "*"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "pg_publication_tables"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "pub"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- Table publication that does not include the parent table"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "pub"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "sch2"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "tbl1_part1"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "PUBLISH_VIA_PARTITION_ROOT"
      EQ "="
      LITERAL
        INT_NUMBER "1"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          STAR "*"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "pg_publication_tables"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Table publication that includes both the parent table and the child table"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "pub"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "sch1"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "tbl1"
  SEMICOLON ";"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          STAR "*"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "pg_publication_tables"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "pub"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- Schema publication that does not include the schema that has the parent table"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "pub"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "sch2"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "PUBLISH_VIA_PARTITION_ROOT"
      EQ "="
      LITERAL
        INT_NUMBER "0"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          STAR "*"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "pg_publication_tables"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "pub"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- Table publication that does not include the parent table"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "pub"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "sch2"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "tbl1_part1"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "PUBLISH_VIA_PARTITION_ROOT"
      EQ "="
      LITERAL
        INT_NUMBER "0"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          STAR "*"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "pg_publication_tables"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Table publication that includes both the parent table and the child table"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "pub"
    WHITESPACE " "
    ADD_KW "ADD"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "sch1"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "tbl1"
  SEMICOLON ";"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          STAR "*"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "pg_publication_tables"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "pub"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "sch2"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "tbl1_part1"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "sch1"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "tbl1"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "sch1"
      DOT "."
      PATH_SEGMENT
        NAME
          IDENT "tbl1"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      R_PAREN ")"
    WHITESPACE " "
    PARTITION_KW "PARTITION"
    WHITESPACE " "
    BY_KW "BY"
    WHITESPACE " "
    RANGE_KW "RANGE"
    L_PAREN "("
    NAME_REF
      IDENT "a"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "sch1"
      DOT "."
      PATH_SEGMENT
        NAME
          IDENT "tbl1_part1"
    WHITESPACE " "
    PARTITION_KW "PARTITION"
    WHITESPACE " "
    OF_KW "OF"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "sch1"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "tbl1"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    VALUES_KW "VALUES"
    WHITESPACE " "
    FROM_KW "FROM"
    WHITESPACE " "
    L_PAREN "("
    LITERAL
      INT_NUMBER "1"
    R_PAREN ")"
    WHITESPACE " "
    TO_KW "to"
    WHITESPACE " "
    L_PAREN "("
    LITERAL
      INT_NUMBER "10"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "sch1"
      DOT "."
      PATH_SEGMENT
        NAME
          IDENT "tbl1_part2"
    WHITESPACE " "
    PARTITION_KW "PARTITION"
    WHITESPACE " "
    OF_KW "OF"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "sch1"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "tbl1"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    VALUES_KW "VALUES"
    WHITESPACE " "
    FROM_KW "FROM"
    WHITESPACE " "
    L_PAREN "("
    LITERAL
      INT_NUMBER "10"
    R_PAREN ")"
    WHITESPACE " "
    TO_KW "to"
    WHITESPACE " "
    L_PAREN "("
    LITERAL
      INT_NUMBER "20"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "sch1"
      DOT "."
      PATH_SEGMENT
        NAME
          IDENT "tbl1_part3"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      R_PAREN ")"
    WHITESPACE " "
    PARTITION_KW "PARTITION"
    WHITESPACE " "
    BY_KW "BY"
    WHITESPACE " "
    RANGE_KW "RANGE"
    L_PAREN "("
    NAME_REF
      IDENT "a"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "sch1"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "tbl1"
    WHITESPACE " "
    ATTACH_PARTITION
      ATTACH_KW "ATTACH"
      WHITESPACE " "
      PARTITION_KW "PARTITION"
      WHITESPACE " "
      NAME_REF
        IDENT "sch1"
  ERROR
    DOT "."
  ERROR
    IDENT "tbl1_part3"
  WHITESPACE " "
  ERROR
    FOR_KW "FOR"
  WHITESPACE " "
  SELECT
    VALUES_KW "VALUES"
    WHITESPACE " "
    ERROR
      FROM_KW "FROM"
    WHITESPACE " "
    L_PAREN "("
    LITERAL
      INT_NUMBER "20"
    R_PAREN ")"
  WHITESPACE " "
  ERROR
    TO_KW "to"
  WHITESPACE " "
  ERROR
    L_PAREN "("
  ERROR
    INT_NUMBER "30"
  ERROR
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "pub"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "sch1"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "PUBLISH_VIA_PARTITION_ROOT"
      EQ "="
      LITERAL
        INT_NUMBER "1"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  SELECT
    SELECT_CLAUSE
      SELECT_KW "SELECT"
      WHITESPACE " "
      TARGET_LIST
        TARGET
          STAR "*"
    WHITESPACE " "
    FROM_CLAUSE
      FROM_KW "FROM"
      WHITESPACE " "
      NAME_REF
        IDENT "pg_publication_tables"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "pub"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "sch1"
      DOT "."
      PATH_SEGMENT
        NAME_REF
          IDENT "tbl1"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_SCHEMA_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "sch1"
    WHITESPACE " "
    CASCADE_KW "cascade"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_SCHEMA_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "sch2"
    WHITESPACE " "
    CASCADE_KW "cascade"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- ======================================================"
  WHITESPACE "\n\n"
  COMMENT "-- Test the 'publish_generated_columns' parameter with the following values:"
  WHITESPACE "\n"
  COMMENT "-- 'stored', 'none', and the default (no value specified), which defaults to"
  WHITESPACE "\n"
  COMMENT "-- 'stored'."
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'ERROR'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "pub1"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    ALL_KW "ALL"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish_generated_columns"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      PATH_TYPE
        PATH
          PATH_SEGMENT
            NAME_REF
              STORED_KW "stored"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "pub2"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    ALL_KW "ALL"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish_generated_columns"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      NONE_KW "none"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "pub3"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    ALL_KW "ALL"
    WHITESPACE " "
    TABLES_KW "TABLES"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish_generated_columns"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "pub1"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "pub2"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "pub3"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  CREATE_TABLE
    COMMENT "-- Test the 'publish_generated_columns' parameter as 'none' and 'stored' for"
    WHITESPACE "\n"
    COMMENT "-- different scenarios with/without generated columns in column lists."
    WHITESPACE "\n"
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "gencols"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "gen1"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INT_KW "int"
        WHITESPACE " "
        GENERATED_CONSTRAINT
          GENERATED_KW "GENERATED"
          WHITESPACE " "
          ALWAYS_KW "ALWAYS"
          WHITESPACE " "
          AS_KW "AS"
          WHITESPACE " "
          L_PAREN "("
          BIN_EXPR
            NAME_REF
              IDENT "a"
            WHITESPACE " "
            STAR "*"
            WHITESPACE " "
            LITERAL
              INT_NUMBER "2"
          R_PAREN ")"
          WHITESPACE " "
          STORED_KW "STORED"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Generated columns in column list, when 'publish_generated_columns'='none'"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "pub1"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "table"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "gencols"
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "gen1"
      R_PAREN ")"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish_generated_columns"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      NONE_KW "none"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Generated columns in column list, when 'publish_generated_columns'='stored'"
  WHITESPACE "\n"
  CREATE_PUBLICATION_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME
      IDENT "pub2"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    TABLE_KW "table"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "gencols"
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "gen1"
      R_PAREN ")"
    WHITESPACE " "
    CONSTRAINT_STORAGE_PARAMS
      WITH_KW "WITH"
      WHITESPACE " "
      L_PAREN "("
      PATH
        PATH_SEGMENT
          NAME_REF
            IDENT "publish_generated_columns"
      WHITESPACE " "
      EQ "="
      WHITESPACE " "
      PATH_TYPE
        PATH
          PATH_SEGMENT
            NAME_REF
              STORED_KW "stored"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Generated columns in column list, then set 'publish_generated_columns'='none'"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "pub2"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    L_PAREN "("
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "publish_generated_columns"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    NONE_KW "none"
    R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Remove generated columns from column list, when 'publish_generated_columns'='none'"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "pub2"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "gencols"
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- Add generated columns in column list, when 'publish_generated_columns'='none'"
  WHITESPACE "\n"
  ALTER_PUBLICATION_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "pub2"
    WHITESPACE " "
    SET_KW "SET"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "gencols"
    COLUMN_LIST
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "a"
      COMMA ","
      WHITESPACE " "
      COLUMN
        NAME_REF
          IDENT "gen1"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "pub1"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_PUBLICATION_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    PUBLICATION_KW "PUBLICATION"
    WHITESPACE " "
    NAME_REF
      IDENT "pub2"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "gencols"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  RESET_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    NAME_REF
      IDENT "client_min_messages"
  SEMICOLON ";"
  WHITESPACE "\n"
  SET_SESSION_AUTH_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    SESSION_KW "SESSION"
    WHITESPACE " "
    AUTHORIZATION_KW "AUTHORIZATION"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_publication_user"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "regress_publication_user2"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_publication_user_dummy"
  SEMICOLON ";"
  WHITESPACE "\n"
---
ERROR@3227: expected name
ERROR@3227: expected SEMICOLON
ERROR@3466: expected SEMICOLON
ERROR@3466: expected command, found DOT
ERROR@3467: expected command, found IDENT
ERROR@8204: expected SEMICOLON
ERROR@8205: expected command, found WHERE_KW
ERROR@8211: expected command, found L_PAREN
ERROR@8212: expected command, found IDENT
ERROR@8214: expected command, found EQ
ERROR@8216: expected command, found INT_NUMBER
ERROR@8219: expected command, found R_PAREN
ERROR@8316: expected SEMICOLON
ERROR@8317: expected command, found WHERE_KW
ERROR@8323: expected command, found L_PAREN
ERROR@8324: expected command, found IDENT
ERROR@8326: expected command, found EQ
ERROR@8328: expected command, found INT_NUMBER
ERROR@8331: expected command, found R_PAREN
ERROR@12489: expected name
ERROR@12489: expected SEMICOLON
ERROR@12530: expected SEMICOLON
ERROR@12531: expected command, found WHERE_KW
ERROR@12537: expected command, found L_PAREN
ERROR@12538: expected command, found IDENT
ERROR@12540: expected command, found L_ANGLE
ERROR@12542: expected command, found INT_NUMBER
ERROR@12544: expected command, found R_PAREN
ERROR@12743: expected STORED_KW
ERROR@12743: expected R_PAREN
ERROR@12743: expected SEMICOLON
ERROR@12744: expected command, found IDENT
ERROR@12751: expected command, found R_PAREN
ERROR@13030: expected STORED_KW
ERROR@13030: expected R_PAREN
ERROR@13030: expected SEMICOLON
ERROR@13031: expected command, found IDENT
ERROR@13038: expected command, found R_PAREN
ERROR@20613: expected STORED_KW
ERROR@20613: expected R_PAREN
ERROR@20613: expected SEMICOLON
ERROR@20614: expected command, found IDENT
ERROR@20621: expected command, found R_PAREN
ERROR@21979: expected STORED_KW
ERROR@21979: expected R_PAREN
ERROR@21979: expected SEMICOLON
ERROR@21980: expected command, found IDENT
ERROR@21988: expected command, found R_PAREN
ERROR@29346: expected name
ERROR@29346: expected SEMICOLON
ERROR@29372: expected SEMICOLON
ERROR@29372: expected command, found L_PAREN
ERROR@29373: expected command, found IDENT
ERROR@29374: expected command, found R_PAREN
ERROR@29998: expected name
ERROR@29998: expected SEMICOLON
ERROR@30024: expected SEMICOLON
ERROR@30024: expected command, found L_PAREN
ERROR@30025: expected command, found IDENT
ERROR@30026: expected command, found R_PAREN
ERROR@30226: expected name
ERROR@30226: expected SEMICOLON
ERROR@30252: expected SEMICOLON
ERROR@30252: expected command, found L_PAREN
ERROR@30253: expected command, found IDENT
ERROR@30254: expected command, found R_PAREN
ERROR@44910: expected SEMICOLON
ERROR@44911: expected command, found L_PAREN
ERROR@44912: expected command, found IDENT
ERROR@44913: expected command, found COMMA
ERROR@44915: expected command, found IDENT
ERROR@44916: expected command, found R_PAREN
ERROR@44985: expected SEMICOLON
ERROR@44986: expected command, found L_PAREN
ERROR@44987: expected command, found IDENT
ERROR@44988: expected command, found COMMA
ERROR@44990: expected command, found IDENT
ERROR@44991: expected command, found R_PAREN
ERROR@47687: expected name
ERROR@47687: expected SEMICOLON
ERROR@50389: expected DEFAULT_KW
ERROR@50389: expected SEMICOLON
ERROR@50389: expected command, found DOT
ERROR@50390: expected command, found IDENT
ERROR@50401: expected command, found FOR_KW
ERROR@50412: expected L_PAREN
ERROR@50421: expected SEMICOLON
ERROR@50422: expected command, found TO_KW
ERROR@50425: expected command, found L_PAREN
ERROR@50426: expected command, found INT_NUMBER
ERROR@50428: expected command, found R_PAREN
