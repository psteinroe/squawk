---
source: crates/squawk_parser/tests/regression_suite.rs
assertion_line: 87
input_file: crates/squawk_parser/tests/data/regression_suite/create_role.sql
---
SOURCE_FILE
  COMMENT "-- ok, superuser can create users with any set of privileges"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_role_super"
    WHITESPACE " "
    IDENT "SUPERUSER"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_role_admin"
    WHITESPACE " "
    IDENT "CREATEDB"
    WHITESPACE " "
    IDENT "CREATEROLE"
    WHITESPACE " "
    IDENT "REPLICATION"
    WHITESPACE " "
    IDENT "BYPASSRLS"
  SEMICOLON ";"
  WHITESPACE "\n"
  GRANT_STMT
    GRANT_KW "GRANT"
    WHITESPACE " "
    CREATE_KW "CREATE"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    DATABASE_KW "DATABASE"
    WHITESPACE " "
    NAME_REF
      IDENT "regression"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    IDENT "regress_role_admin"
    WHITESPACE " "
    WITH_KW "WITH"
    WHITESPACE " "
    GRANT_KW "GRANT"
    WHITESPACE " "
    OPTION_KW "OPTION"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_role_limited_admin"
    WHITESPACE " "
    IDENT "CREATEROLE"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_role_normal"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail, CREATEROLE user can't give away role attributes without having them"
  WHITESPACE "\n"
  SET_SESSION_AUTH_STMT
    SET_KW "SET"
    WHITESPACE " "
    SESSION_KW "SESSION"
    WHITESPACE " "
    AUTHORIZATION_KW "AUTHORIZATION"
    WHITESPACE " "
    IDENT "regress_role_limited_admin"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_nosuch_superuser"
    WHITESPACE " "
    IDENT "SUPERUSER"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_nosuch_replication_bypassrls"
    WHITESPACE " "
    IDENT "REPLICATION"
    WHITESPACE " "
    IDENT "BYPASSRLS"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_nosuch_replication"
    WHITESPACE " "
    IDENT "REPLICATION"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_nosuch_bypassrls"
    WHITESPACE " "
    IDENT "BYPASSRLS"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_nosuch_createdb"
    WHITESPACE " "
    IDENT "CREATEDB"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok, can create a role without any special attributes"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_role_limited"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail, can't give it in any of the restricted attributes"
  WHITESPACE "\n"
  ALTER_ROLE_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_role_limited"
    WHITESPACE " "
    IDENT "SUPERUSER"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_ROLE_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_role_limited"
    WHITESPACE " "
    IDENT "REPLICATION"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_ROLE_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_role_limited"
    WHITESPACE " "
    IDENT "CREATEDB"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_ROLE_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_role_limited"
    WHITESPACE " "
    IDENT "BYPASSRLS"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_role_limited"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok, can give away these role attributes if you have them"
  WHITESPACE "\n"
  SET_SESSION_AUTH_STMT
    SET_KW "SET"
    WHITESPACE " "
    SESSION_KW "SESSION"
    WHITESPACE " "
    AUTHORIZATION_KW "AUTHORIZATION"
    WHITESPACE " "
    IDENT "regress_role_admin"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_replication_bypassrls"
    WHITESPACE " "
    IDENT "REPLICATION"
    WHITESPACE " "
    IDENT "BYPASSRLS"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_replication"
    WHITESPACE " "
    IDENT "REPLICATION"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_bypassrls"
    WHITESPACE " "
    IDENT "BYPASSRLS"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_createdb"
    WHITESPACE " "
    IDENT "CREATEDB"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok, can toggle these role attributes off and on if you have them"
  WHITESPACE "\n"
  ALTER_ROLE_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_replication"
    WHITESPACE " "
    IDENT "NOREPLICATION"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_ROLE_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_replication"
    WHITESPACE " "
    IDENT "REPLICATION"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_ROLE_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_bypassrls"
    WHITESPACE " "
    IDENT "NOBYPASSRLS"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_ROLE_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_bypassrls"
    WHITESPACE " "
    IDENT "BYPASSRLS"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_ROLE_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_createdb"
    WHITESPACE " "
    IDENT "NOCREATEDB"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_ROLE_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_createdb"
    WHITESPACE " "
    IDENT "CREATEDB"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail, can't toggle SUPERUSER"
  WHITESPACE "\n"
  ALTER_ROLE_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_createdb"
    WHITESPACE " "
    IDENT "SUPERUSER"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_ROLE_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_createdb"
    WHITESPACE " "
    IDENT "NOSUPERUSER"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok, having CREATEROLE is enough to create users with these privileges"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_createrole"
    WHITESPACE " "
    IDENT "CREATEROLE"
    WHITESPACE " "
    IDENT "NOINHERIT"
  SEMICOLON ";"
  WHITESPACE "\n"
  GRANT_STMT
    GRANT_KW "GRANT"
    WHITESPACE " "
    CREATE_KW "CREATE"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    DATABASE_KW "DATABASE"
    WHITESPACE " "
    NAME_REF
      IDENT "regression"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    IDENT "regress_createrole"
    WHITESPACE " "
    WITH_KW "WITH"
    WHITESPACE " "
    GRANT_KW "GRANT"
    WHITESPACE " "
    OPTION_KW "OPTION"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_login"
    WHITESPACE " "
    IDENT "LOGIN"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_inherit"
    WHITESPACE " "
    INHERIT_KW "INHERIT"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_connection_limit"
    WHITESPACE " "
    CONNECTION_KW "CONNECTION"
    WHITESPACE " "
    LIMIT_KW "LIMIT"
    WHITESPACE " "
    LITERAL
      INT_NUMBER "5"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_encrypted_password"
    WHITESPACE " "
    ENCRYPTED_KW "ENCRYPTED"
    WHITESPACE " "
    PASSWORD_KW "PASSWORD"
    WHITESPACE " "
    LITERAL
      STRING "'foo'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_password_null"
    WHITESPACE " "
    PASSWORD_KW "PASSWORD"
    WHITESPACE " "
    NULL_KW "NULL"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok, backwards compatible noise words should be ignored"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_noiseword"
    WHITESPACE " "
    SYSID_KW "SYSID"
    WHITESPACE " "
    LITERAL
      INT_NUMBER "12345"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail, cannot grant membership in superuser role"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_nosuch_super"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_role_super"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail, database owner cannot have members"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_nosuch_dbowner"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "pg_database_owner"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok, can grant other users into a role"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_inroles"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE "\n\t"
    IDENT "regress_role_super"
    COMMA ","
    WHITESPACE " "
    IDENT "regress_createdb"
    COMMA ","
    WHITESPACE " "
    IDENT "regress_createrole"
    COMMA ","
    WHITESPACE " "
    IDENT "regress_login"
    COMMA ","
    WHITESPACE "\n\t"
    IDENT "regress_inherit"
    COMMA ","
    WHITESPACE " "
    IDENT "regress_connection_limit"
    COMMA ","
    WHITESPACE " "
    IDENT "regress_encrypted_password"
    COMMA ","
    WHITESPACE " "
    IDENT "regress_password_null"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail, cannot grant a role into itself"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_nosuch_recursive"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_nosuch_recursive"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok, can grant other users into a role with admin option"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_adminroles"
    WHITESPACE " "
    ADMIN_KW "ADMIN"
    WHITESPACE "\n\t"
    IDENT "regress_role_super"
    COMMA ","
    WHITESPACE " "
    IDENT "regress_createdb"
    COMMA ","
    WHITESPACE " "
    IDENT "regress_createrole"
    COMMA ","
    WHITESPACE " "
    IDENT "regress_login"
    COMMA ","
    WHITESPACE "\n\t"
    IDENT "regress_inherit"
    COMMA ","
    WHITESPACE " "
    IDENT "regress_connection_limit"
    COMMA ","
    WHITESPACE " "
    IDENT "regress_encrypted_password"
    COMMA ","
    WHITESPACE " "
    IDENT "regress_password_null"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail, cannot grant a role into itself with admin option"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_nosuch_admin_recursive"
    WHITESPACE " "
    ADMIN_KW "ADMIN"
    WHITESPACE " "
    IDENT "regress_nosuch_admin_recursive"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail, regress_createrole does not have CREATEDB privilege"
  WHITESPACE "\n"
  SET_SESSION_AUTH_STMT
    SET_KW "SET"
    WHITESPACE " "
    SESSION_KW "SESSION"
    WHITESPACE " "
    AUTHORIZATION_KW "AUTHORIZATION"
    WHITESPACE " "
    IDENT "regress_createrole"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_DATABASE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    DATABASE_KW "DATABASE"
    WHITESPACE " "
    NAME
      IDENT "regress_nosuch_db"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok, regress_createrole can create new roles"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_plainrole"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok, roles with CREATEROLE can create new roles with it"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_rolecreator"
    WHITESPACE " "
    IDENT "CREATEROLE"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok, roles with CREATEROLE can create new roles with different role"
  WHITESPACE "\n"
  COMMENT "-- attributes, including CREATEROLE"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_hasprivs"
    WHITESPACE " "
    IDENT "CREATEROLE"
    WHITESPACE " "
    IDENT "LOGIN"
    WHITESPACE " "
    INHERIT_KW "INHERIT"
    WHITESPACE " "
    CONNECTION_KW "CONNECTION"
    WHITESPACE " "
    LIMIT_KW "LIMIT"
    WHITESPACE " "
    LITERAL
      INT_NUMBER "5"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok, we should be able to modify a role we created"
  WHITESPACE "\n"
  COMMENT_STMT
    COMMENT_KW "COMMENT"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "regress_hasprivs"
    WHITESPACE " "
    IS_KW "IS"
    WHITESPACE " "
    LITERAL
      STRING "'some comment'"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_ROLE_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_hasprivs"
    WHITESPACE " "
    RENAME_KW "RENAME"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    NAME
      IDENT "regress_tenant"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_ROLE_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_tenant"
    WHITESPACE " "
    IDENT "NOINHERIT"
    WHITESPACE " "
    IDENT "NOLOGIN"
    WHITESPACE " "
    CONNECTION_KW "CONNECTION"
    WHITESPACE " "
    LIMIT_KW "LIMIT"
    WHITESPACE " "
    LITERAL
      INT_NUMBER "7"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail, we should be unable to modify a role we did not create"
  WHITESPACE "\n"
  COMMENT_STMT
    COMMENT_KW "COMMENT"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "regress_role_normal"
    WHITESPACE " "
    IS_KW "IS"
    WHITESPACE " "
    LITERAL
      STRING "'some comment'"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_ROLE_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_role_normal"
    WHITESPACE " "
    RENAME_KW "RENAME"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    NAME
      IDENT "regress_role_abnormal"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_ROLE_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "regress_role_normal"
    WHITESPACE " "
    IDENT "NOINHERIT"
    WHITESPACE " "
    IDENT "NOLOGIN"
    WHITESPACE " "
    CONNECTION_KW "CONNECTION"
    WHITESPACE " "
    LIMIT_KW "LIMIT"
    WHITESPACE " "
    LITERAL
      INT_NUMBER "7"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok, regress_tenant can create objects within the database"
  WHITESPACE "\n"
  SET_SESSION_AUTH_STMT
    SET_KW "SET"
    WHITESPACE " "
    SESSION_KW "SESSION"
    WHITESPACE " "
    AUTHORIZATION_KW "AUTHORIZATION"
    WHITESPACE " "
    IDENT "regress_tenant"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "tenant_table"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "i"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INTEGER_KW "integer"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_INDEX_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    INDEX_KW "INDEX"
    WHITESPACE " "
    NAME
      IDENT "tenant_idx"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "tenant_table"
    INDEX_PARAMS
      L_PAREN "("
      NAME_REF
        IDENT "i"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_VIEW_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    VIEW_KW "VIEW"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "tenant_view"
    WHITESPACE " "
    AS_KW "AS"
    WHITESPACE " "
    SELECT
      SELECT_CLAUSE
        SELECT_KW "SELECT"
        WHITESPACE " "
        TARGET_LIST
          TARGET
            STAR "*"
      WHITESPACE " "
      FROM_CLAUSE
        FROM_KW "FROM"
        WHITESPACE " "
        FIELD_EXPR
          NAME_REF
            IDENT "pg_catalog"
          DOT "."
          NAME_REF
            IDENT "pg_class"
  SEMICOLON ";"
  WHITESPACE "\n"
  REVOKE_STMT
    REVOKE_KW "REVOKE"
    WHITESPACE " "
    ALL_KW "ALL"
    WHITESPACE " "
    PRIVILEGES_KW "PRIVILEGES"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "tenant_table"
    WHITESPACE " "
    FROM_KW "FROM"
    WHITESPACE " "
    IDENT "PUBLIC"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail, these objects belonging to regress_tenant"
  WHITESPACE "\n"
  SET_SESSION_AUTH_STMT
    SET_KW "SET"
    WHITESPACE " "
    SESSION_KW "SESSION"
    WHITESPACE " "
    AUTHORIZATION_KW "AUTHORIZATION"
    WHITESPACE " "
    IDENT "regress_createrole"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_INDEX_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    INDEX_KW "INDEX"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "tenant_idx"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "tenant_table"
    WHITESPACE " "
    ADD_COLUMN
      ADD_KW "ADD"
      WHITESPACE " "
      COLUMN_KW "COLUMN"
      WHITESPACE " "
      NAME_REF
        IDENT "t"
      WHITESPACE " "
      PATH_TYPE
        PATH
          PATH_SEGMENT
            NAME_REF
              TEXT_KW "text"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "tenant_table"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_VIEW_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    VIEW_KW "VIEW"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "tenant_view"
    WHITESPACE " "
    OWNER_KW "OWNER"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    IDENT "regress_role_admin"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_VIEW_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    VIEW_KW "VIEW"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "tenant_view"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail, can't create objects owned as regress_tenant"
  WHITESPACE "\n"
  CREATE_SCHEMA_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "regress_tenant_schema"
    WHITESPACE " "
    AUTHORIZATION_KW "AUTHORIZATION"
    WHITESPACE " "
    IDENT "regress_tenant"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail, we don't inherit permissions from regress_tenant"
  WHITESPACE "\n"
  REASSIGN_STMT
    REASSIGN_KW "REASSIGN"
    WHITESPACE " "
    OWNED_KW "OWNED"
    WHITESPACE " "
    BY_KW "BY"
    WHITESPACE " "
    IDENT "regress_tenant"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    IDENT "regress_createrole"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok, create a role with a value for createrole_self_grant"
  WHITESPACE "\n"
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    NAME_REF
      IDENT "createrole_self_grant"
    WHITESPACE " "
    EQ "="
    WHITESPACE " "
    LITERAL
      STRING "'set, inherit'"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_tenant2"
  SEMICOLON ";"
  WHITESPACE "\n"
  GRANT_STMT
    GRANT_KW "GRANT"
    WHITESPACE " "
    CREATE_KW "CREATE"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    DATABASE_KW "DATABASE"
    WHITESPACE " "
    NAME_REF
      IDENT "regression"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    IDENT "regress_tenant2"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok, regress_tenant2 can create objects within the database"
  WHITESPACE "\n"
  SET_SESSION_AUTH_STMT
    SET_KW "SET"
    WHITESPACE " "
    SESSION_KW "SESSION"
    WHITESPACE " "
    AUTHORIZATION_KW "AUTHORIZATION"
    WHITESPACE " "
    IDENT "regress_tenant2"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_TABLE
    CREATE_KW "CREATE"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME
          IDENT "tenant2_table"
    WHITESPACE " "
    TABLE_ARGS
      L_PAREN "("
      COLUMN
        NAME_REF
          IDENT "i"
        WHITESPACE " "
        PATH_TYPE
          PATH
            PATH_SEGMENT
              NAME_REF
                INTEGER_KW "integer"
      R_PAREN ")"
  SEMICOLON ";"
  WHITESPACE "\n"
  REVOKE_STMT
    REVOKE_KW "REVOKE"
    WHITESPACE " "
    ALL_KW "ALL"
    WHITESPACE " "
    PRIVILEGES_KW "PRIVILEGES"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "tenant2_table"
    WHITESPACE " "
    FROM_KW "FROM"
    WHITESPACE " "
    IDENT "PUBLIC"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok, because we have SET and INHERIT on regress_tenant2"
  WHITESPACE "\n"
  SET_SESSION_AUTH_STMT
    SET_KW "SET"
    WHITESPACE " "
    SESSION_KW "SESSION"
    WHITESPACE " "
    AUTHORIZATION_KW "AUTHORIZATION"
    WHITESPACE " "
    IDENT "regress_createrole"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_SCHEMA_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "regress_tenant2_schema"
    WHITESPACE " "
    AUTHORIZATION_KW "AUTHORIZATION"
    WHITESPACE " "
    IDENT "regress_tenant2"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_SCHEMA_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_tenant2_schema"
    WHITESPACE " "
    OWNER_KW "OWNER"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    IDENT "regress_createrole"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "tenant2_table"
    WHITESPACE " "
    OWNER_TO
      OWNER_KW "OWNER"
      WHITESPACE " "
      TO_KW "TO"
      WHITESPACE " "
      NAME_REF
        IDENT "regress_createrole"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "tenant2_table"
    WHITESPACE " "
    OWNER_TO
      OWNER_KW "OWNER"
      WHITESPACE " "
      TO_KW "TO"
      WHITESPACE " "
      NAME_REF
        IDENT "regress_tenant2"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- with SET but not INHERIT, we can give away objects but not take them"
  WHITESPACE "\n"
  REVOKE_STMT
    REVOKE_KW "REVOKE"
    WHITESPACE " "
    INHERIT_KW "INHERIT"
    WHITESPACE " "
    OPTION_KW "OPTION"
    WHITESPACE " "
    FOR_KW "FOR"
    WHITESPACE " "
    IDENT "regress_tenant2"
    WHITESPACE " "
    FROM_KW "FROM"
    WHITESPACE " "
    IDENT "regress_createrole"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_SCHEMA_STMT
    ALTER_KW "ALTER"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_tenant2_schema"
    WHITESPACE " "
    OWNER_KW "OWNER"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    IDENT "regress_tenant2"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "tenant2_table"
    WHITESPACE " "
    OWNER_TO
      OWNER_KW "OWNER"
      WHITESPACE " "
      TO_KW "TO"
      WHITESPACE " "
      NAME_REF
        IDENT "regress_createrole"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- with INHERIT but not SET, we can take objects but not give them away"
  WHITESPACE "\n"
  GRANT_STMT
    GRANT_KW "GRANT"
    WHITESPACE " "
    IDENT "regress_tenant2"
    WHITESPACE " "
    TO_KW "TO"
    WHITESPACE " "
    IDENT "regress_createrole"
    WHITESPACE " "
    WITH_KW "WITH"
    WHITESPACE " "
    INHERIT_KW "INHERIT"
    WHITESPACE " "
    TRUE_KW "TRUE"
  ERROR
    COMMA ","
  WHITESPACE " "
  SET_STMT
    SET_KW "SET"
    WHITESPACE " "
    LITERAL
      FALSE_KW "FALSE"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "tenant2_table"
    WHITESPACE " "
    OWNER_TO
      OWNER_KW "OWNER"
      WHITESPACE " "
      TO_KW "TO"
      WHITESPACE " "
      NAME_REF
        IDENT "regress_createrole"
  SEMICOLON ";"
  WHITESPACE "\n"
  ALTER_TABLE
    ALTER_KW "ALTER"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "tenant2_table"
    WHITESPACE " "
    OWNER_TO
      OWNER_KW "OWNER"
      WHITESPACE " "
      TO_KW "TO"
      WHITESPACE " "
      NAME_REF
        IDENT "regress_tenant2"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "tenant2_table"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail, CREATEROLE is not enough to create roles in privileged roles"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_read_all_data"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "pg_read_all_data"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_write_all_data"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "pg_write_all_data"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_monitor"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "pg_monitor"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_read_all_settings"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "pg_read_all_settings"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_read_all_stats"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "pg_read_all_stats"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_stat_scan_tables"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "pg_stat_scan_tables"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_read_server_files"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "pg_read_server_files"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_write_server_files"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "pg_write_server_files"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_execute_server_program"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "pg_execute_server_program"
  SEMICOLON ";"
  WHITESPACE "\n"
  CREATE_ROLE_STMT
    CREATE_KW "CREATE"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME
      IDENT "regress_signal_backend"
    WHITESPACE " "
    IN_KW "IN"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    IDENT "pg_signal_backend"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail, role still owns database objects"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_tenant"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail, creation of these roles failed above so they do not now exist"
  WHITESPACE "\n"
  SET_SESSION_AUTH_STMT
    SET_KW "SET"
    WHITESPACE " "
    SESSION_KW "SESSION"
    WHITESPACE " "
    AUTHORIZATION_KW "AUTHORIZATION"
    WHITESPACE " "
    IDENT "regress_role_admin"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_nosuch_superuser"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_nosuch_replication_bypassrls"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_nosuch_replication"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_nosuch_bypassrls"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_nosuch_super"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_nosuch_dbowner"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_nosuch_recursive"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_nosuch_admin_recursive"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_plainrole"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- must revoke privileges before dropping role"
  WHITESPACE "\n"
  REVOKE_STMT
    REVOKE_KW "REVOKE"
    WHITESPACE " "
    CREATE_KW "CREATE"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    DATABASE_KW "DATABASE"
    WHITESPACE " "
    NAME_REF
      IDENT "regression"
    WHITESPACE " "
    FROM_KW "FROM"
    WHITESPACE " "
    IDENT "regress_createrole"
    WHITESPACE " "
    CASCADE_KW "CASCADE"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok, should be able to drop non-superuser roles we created"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_replication_bypassrls"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_replication"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_bypassrls"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_createdb"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_createrole"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_login"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_inherit"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_connection_limit"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_encrypted_password"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_password_null"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_noiseword"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_inroles"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_adminroles"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- fail, cannot drop ourself, nor superusers or roles we lack ADMIN for"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_role_super"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_role_admin"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_rolecreator"
  SEMICOLON ";"
  WHITESPACE "\n\n"
  COMMENT "-- ok"
  WHITESPACE "\n"
  SET_SESSION_AUTH_STMT
    RESET_KW "RESET"
    WHITESPACE " "
    SESSION_KW "SESSION"
    WHITESPACE " "
    AUTHORIZATION_KW "AUTHORIZATION"
  SEMICOLON ";"
  WHITESPACE "\n"
  REVOKE_STMT
    REVOKE_KW "REVOKE"
    WHITESPACE " "
    CREATE_KW "CREATE"
    WHITESPACE " "
    ON_KW "ON"
    WHITESPACE " "
    DATABASE_KW "DATABASE"
    WHITESPACE " "
    NAME_REF
      IDENT "regression"
    WHITESPACE " "
    FROM_KW "FROM"
    WHITESPACE " "
    IDENT "regress_role_admin"
    WHITESPACE " "
    CASCADE_KW "CASCADE"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_INDEX_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    INDEX_KW "INDEX"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "tenant_idx"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_TABLE
    DROP_KW "DROP"
    WHITESPACE " "
    TABLE_KW "TABLE"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "tenant_table"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_VIEW_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    VIEW_KW "VIEW"
    WHITESPACE " "
    PATH
      PATH_SEGMENT
        NAME_REF
          IDENT "tenant_view"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_SCHEMA_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    SCHEMA_KW "SCHEMA"
    WHITESPACE " "
    NAME
      IDENT "regress_tenant2_schema"
  SEMICOLON ";"
  WHITESPACE "\n"
  COMMENT "-- check for duplicated drop"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_tenant"
    COMMA ","
    WHITESPACE " "
    NAME_REF
      IDENT "regress_tenant"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_tenant2"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_rolecreator"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_role_admin"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_role_limited_admin"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_role_super"
  SEMICOLON ";"
  WHITESPACE "\n"
  DROP_ROLE_STMT
    DROP_KW "DROP"
    WHITESPACE " "
    ROLE_KW "ROLE"
    WHITESPACE " "
    NAME_REF
      IDENT "regress_role_normal"
  SEMICOLON ";"
  WHITESPACE "\n"
---
ERROR@6257: expected SEMICOLON
ERROR@6257: expected command, found COMMA
ERROR@6262: expected name
ERROR@6262: expected EQ
